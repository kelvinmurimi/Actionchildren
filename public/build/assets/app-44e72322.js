function Li(e,n){return function(){return e.apply(n,arguments)}}const{toString:_o}=Object.prototype,{getPrototypeOf:ir}=Object,en=(e=>n=>{const t=_o.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ge=e=>(e=e.toLowerCase(),n=>en(n)===e),tn=e=>n=>typeof n===e,{isArray:pt}=Array,Ot=tn("undefined");function Io(e){return e!==null&&!Ot(e)&&e.constructor!==null&&!Ot(e.constructor)&&we(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ni=Ge("ArrayBuffer");function Do(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&Ni(e.buffer),n}const Ro=tn("string"),we=tn("function"),Fi=tn("number"),nn=e=>e!==null&&typeof e=="object",yo=e=>e===!0||e===!1,kt=e=>{if(en(e)!=="object")return!1;const n=ir(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Oo=Ge("Date"),So=Ge("File"),bo=Ge("Blob"),wo=Ge("FileList"),vo=e=>nn(e)&&we(e.pipe),Co=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||we(e.append)&&((n=en(e))==="formdata"||n==="object"&&we(e.toString)&&e.toString()==="[object FormData]"))},Ao=Ge("URLSearchParams"),[Mo,Po,Lo,No]=["ReadableStream","Request","Response","Headers"].map(Ge),Fo=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bt(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),pt(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const o=t?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let a;for(r=0;r<s;r++)a=o[r],n.call(null,e[a],a,e)}}function xi(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const Xe=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Gi=e=>!Ot(e)&&e!==Xe;function Fn(){const{caseless:e}=Gi(this)&&this||{},n={},t=(r,i)=>{const o=e&&xi(n,i)||i;kt(n[o])&&kt(r)?n[o]=Fn(n[o],r):kt(r)?n[o]=Fn({},r):pt(r)?n[o]=r.slice():n[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&bt(arguments[r],t);return n}const xo=(e,n,t,{allOwnKeys:r}={})=>(bt(n,(i,o)=>{t&&we(i)?e[o]=Li(i,t):e[o]=i},{allOwnKeys:r}),e),Go=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Bo=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},Uo=(e,n,t,r)=>{let i,o,s;const a={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!r||r(s,e,n))&&!a[s]&&(n[s]=e[s],a[s]=!0);e=t!==!1&&ir(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},ko=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},Ho=e=>{if(!e)return null;if(pt(e))return e;let n=e.length;if(!Fi(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},Vo=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&ir(Uint8Array)),Yo=(e,n)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;n.call(e,o[0],o[1])}},qo=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},jo=Ge("HTMLFormElement"),$o=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Pr=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),Wo=Ge("RegExp"),Bi=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};bt(t,(i,o)=>{let s;(s=n(i,o,e))!==!1&&(r[o]=s||i)}),Object.defineProperties(e,r)},zo=e=>{Bi(e,(n,t)=>{if(we(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(we(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Xo=(e,n)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return pt(e)?r(e):r(String(e).split(n)),t},Ko=()=>{},Qo=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,In="abcdefghijklmnopqrstuvwxyz",Lr="0123456789",Ui={DIGIT:Lr,ALPHA:In,ALPHA_DIGIT:In+In.toUpperCase()+Lr},Jo=(e=16,n=Ui.ALPHA_DIGIT)=>{let t="";const{length:r}=n;for(;e--;)t+=n[Math.random()*r|0];return t};function Zo(e){return!!(e&&we(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const ea=e=>{const n=new Array(10),t=(r,i)=>{if(nn(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const o=pt(r)?[]:{};return bt(r,(s,a)=>{const l=t(s,i+1);!Ot(l)&&(o[a]=l)}),n[i]=void 0,o}}return r};return t(e,0)},ta=Ge("AsyncFunction"),na=e=>e&&(nn(e)||we(e))&&we(e.then)&&we(e.catch),ki=((e,n)=>e?setImmediate:n?((t,r)=>(Xe.addEventListener("message",({source:i,data:o})=>{i===Xe&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Xe.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",we(Xe.postMessage)),ra=typeof queueMicrotask<"u"?queueMicrotask.bind(Xe):typeof process<"u"&&process.nextTick||ki,T={isArray:pt,isArrayBuffer:Ni,isBuffer:Io,isFormData:Co,isArrayBufferView:Do,isString:Ro,isNumber:Fi,isBoolean:yo,isObject:nn,isPlainObject:kt,isReadableStream:Mo,isRequest:Po,isResponse:Lo,isHeaders:No,isUndefined:Ot,isDate:Oo,isFile:So,isBlob:bo,isRegExp:Wo,isFunction:we,isStream:vo,isURLSearchParams:Ao,isTypedArray:Vo,isFileList:wo,forEach:bt,merge:Fn,extend:xo,trim:Fo,stripBOM:Go,inherits:Bo,toFlatObject:Uo,kindOf:en,kindOfTest:Ge,endsWith:ko,toArray:Ho,forEachEntry:Yo,matchAll:qo,isHTMLForm:jo,hasOwnProperty:Pr,hasOwnProp:Pr,reduceDescriptors:Bi,freezeMethods:zo,toObjectSet:Xo,toCamelCase:$o,noop:Ko,toFiniteNumber:Qo,findKey:xi,global:Xe,isContextDefined:Gi,ALPHABET:Ui,generateString:Jo,isSpecCompliantForm:Zo,toJSONObject:ea,isAsyncFn:ta,isThenable:na,setImmediate:ki,asap:ra};function q(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}T.inherits(q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const Hi=q.prototype,Vi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Vi[e]={value:e}});Object.defineProperties(q,Vi);Object.defineProperty(Hi,"isAxiosError",{value:!0});q.from=(e,n,t,r,i,o)=>{const s=Object.create(Hi);return T.toFlatObject(e,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),q.call(s,e.message,n,t,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const ia=null;function xn(e){return T.isPlainObject(e)||T.isArray(e)}function Yi(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function Nr(e,n,t){return e?e.concat(n).map(function(i,o){return i=Yi(i),!t&&o?"["+i+"]":i}).join(t?".":""):n}function sa(e){return T.isArray(e)&&!e.some(xn)}const oa=T.toFlatObject(T,{},null,function(n){return/^is[A-Z]/.test(n)});function rn(e,n,t){if(!T.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=T.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,D){return!T.isUndefined(D[E])});const r=t.metaTokens,i=t.visitor||u,o=t.dots,s=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(n);if(!T.isFunction(i))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(T.isDate(m))return m.toISOString();if(!l&&T.isBlob(m))throw new q("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(m)||T.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,E,D){let y=m;if(m&&!D&&typeof m=="object"){if(T.endsWith(E,"{}"))E=r?E:E.slice(0,-2),m=JSON.stringify(m);else if(T.isArray(m)&&sa(m)||(T.isFileList(m)||T.endsWith(E,"[]"))&&(y=T.toArray(m)))return E=Yi(E),y.forEach(function(A,L){!(T.isUndefined(A)||A===null)&&n.append(s===!0?Nr([E],L,o):s===null?E:E+"[]",d(A))}),!1}return xn(m)?!0:(n.append(Nr(D,E,o),d(m)),!1)}const p=[],h=Object.assign(oa,{defaultVisitor:u,convertValue:d,isVisitable:xn});function I(m,E){if(!T.isUndefined(m)){if(p.indexOf(m)!==-1)throw Error("Circular reference detected in "+E.join("."));p.push(m),T.forEach(m,function(y,S){(!(T.isUndefined(y)||y===null)&&i.call(n,y,T.isString(S)?S.trim():S,E,h))===!0&&I(y,E?E.concat(S):[S])}),p.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return I(e),n}function Fr(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function sr(e,n){this._pairs=[],e&&rn(e,this,n)}const qi=sr.prototype;qi.append=function(n,t){this._pairs.push([n,t])};qi.toString=function(n){const t=n?function(r){return n.call(this,r,Fr)}:Fr;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function aa(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ji(e,n,t){if(!n)return e;const r=t&&t.encode||aa,i=t&&t.serialize;let o;if(i?o=i(n,t):o=T.isURLSearchParams(n)?n.toString():new sr(n,t).toString(r),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class la{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){T.forEach(this.handlers,function(r){r!==null&&n(r)})}}const xr=la,$i={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ca=typeof URLSearchParams<"u"?URLSearchParams:sr,ua=typeof FormData<"u"?FormData:null,fa=typeof Blob<"u"?Blob:null,da={isBrowser:!0,classes:{URLSearchParams:ca,FormData:ua,Blob:fa},protocols:["http","https","file","blob","url","data"]},or=typeof window<"u"&&typeof document<"u",Gn=typeof navigator=="object"&&navigator||void 0,pa=or&&(!Gn||["ReactNative","NativeScript","NS"].indexOf(Gn.product)<0),ma=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ga=or&&window.location.href||"http://localhost",Ea=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:or,hasStandardBrowserEnv:pa,hasStandardBrowserWebWorkerEnv:ma,navigator:Gn,origin:ga},Symbol.toStringTag,{value:"Module"})),Re={...Ea,...da};function ha(e,n){return rn(e,new Re.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return Re.isNode&&T.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},n))}function Ta(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function _a(e){const n={},t=Object.keys(e);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],n[o]=e[o];return n}function Wi(e){function n(t,r,i,o){let s=t[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=t.length;return s=!s&&T.isArray(i)?i.length:s,l?(T.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!T.isObject(i[s]))&&(i[s]=[]),n(t,r,i[s],o)&&T.isArray(i[s])&&(i[s]=_a(i[s])),!a)}if(T.isFormData(e)&&T.isFunction(e.entries)){const t={};return T.forEachEntry(e,(r,i)=>{n(Ta(r),i,t,0)}),t}return null}function Ia(e,n,t){if(T.isString(e))try{return(n||JSON.parse)(e),T.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(e)}const ar={transitional:$i,adapter:["xhr","http","fetch"],transformRequest:[function(n,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=T.isObject(n);if(o&&T.isHTMLForm(n)&&(n=new FormData(n)),T.isFormData(n))return i?JSON.stringify(Wi(n)):n;if(T.isArrayBuffer(n)||T.isBuffer(n)||T.isStream(n)||T.isFile(n)||T.isBlob(n)||T.isReadableStream(n))return n;if(T.isArrayBufferView(n))return n.buffer;if(T.isURLSearchParams(n))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ha(n,this.formSerializer).toString();if((a=T.isFileList(n))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return rn(a?{"files[]":n}:n,l&&new l,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),Ia(n)):n}],transformResponse:[function(n){const t=this.transitional||ar.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(T.isResponse(n)||T.isReadableStream(n))return n;if(n&&T.isString(n)&&(r&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(n)}catch(a){if(s)throw a.name==="SyntaxError"?q.from(a,q.ERR_BAD_RESPONSE,this,null,this.response):a}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Re.classes.FormData,Blob:Re.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{ar.headers[e]={}});const lr=ar,Da=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ra=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||n[t]&&Da[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},Gr=Symbol("internals");function Tt(e){return e&&String(e).trim().toLowerCase()}function Ht(e){return e===!1||e==null?e:T.isArray(e)?e.map(Ht):String(e)}function ya(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const Oa=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Dn(e,n,t,r,i){if(T.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!T.isString(n)){if(T.isString(r))return n.indexOf(r)!==-1;if(T.isRegExp(r))return r.test(n)}}function Sa(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function ba(e,n){const t=T.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,o,s){return this[r].call(this,n,i,o,s)},configurable:!0})})}class sn{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function o(a,l,d){const u=Tt(l);if(!u)throw new Error("header name must be a non-empty string");const p=T.findKey(i,u);(!p||i[p]===void 0||d===!0||d===void 0&&i[p]!==!1)&&(i[p||l]=Ht(a))}const s=(a,l)=>T.forEach(a,(d,u)=>o(d,u,l));if(T.isPlainObject(n)||n instanceof this.constructor)s(n,t);else if(T.isString(n)&&(n=n.trim())&&!Oa(n))s(Ra(n),t);else if(T.isHeaders(n))for(const[a,l]of n.entries())o(l,a,r);else n!=null&&o(t,n,r);return this}get(n,t){if(n=Tt(n),n){const r=T.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return ya(i);if(T.isFunction(t))return t.call(this,i,r);if(T.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=Tt(n),n){const r=T.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||Dn(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function o(s){if(s=Tt(s),s){const a=T.findKey(r,s);a&&(!t||Dn(r,r[a],a,t))&&(delete r[a],i=!0)}}return T.isArray(n)?n.forEach(o):o(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!n||Dn(this,this[o],o,n,!0))&&(delete this[o],i=!0)}return i}normalize(n){const t=this,r={};return T.forEach(this,(i,o)=>{const s=T.findKey(r,o);if(s){t[s]=Ht(i),delete t[o];return}const a=n?Sa(o):String(o).trim();a!==o&&delete t[o],t[a]=Ht(i),r[a]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return T.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&T.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const r=(this[Gr]=this[Gr]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Tt(s);r[a]||(ba(i,s),r[a]=!0)}return T.isArray(n)?n.forEach(o):o(n),this}}sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(sn.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});T.freezeMethods(sn);const xe=sn;function Rn(e,n){const t=this||lr,r=n||t,i=xe.from(r.headers);let o=r.data;return T.forEach(e,function(a){o=a.call(t,o,i.normalize(),n?n.status:void 0)}),i.normalize(),o}function zi(e){return!!(e&&e.__CANCEL__)}function mt(e,n,t){q.call(this,e??"canceled",q.ERR_CANCELED,n,t),this.name="CanceledError"}T.inherits(mt,q,{__CANCEL__:!0});function Xi(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new q("Request failed with status code "+t.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function wa(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function va(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,o=0,s;return n=n!==void 0?n:1e3,function(l){const d=Date.now(),u=r[o];s||(s=d),t[i]=l,r[i]=d;let p=o,h=0;for(;p!==i;)h+=t[p++],p=p%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),d-s<n)return;const I=u&&d-u;return I?Math.round(h*1e3/I):void 0}}function Ca(e,n){let t=0,r=1e3/n,i,o;const s=(d,u=Date.now())=>{t=u,i=null,o&&(clearTimeout(o),o=null),e.apply(null,d)};return[(...d)=>{const u=Date.now(),p=u-t;p>=r?s(d,u):(i=d,o||(o=setTimeout(()=>{o=null,s(i)},r-p)))},()=>i&&s(i)]}const $t=(e,n,t=3)=>{let r=0;const i=va(50,250);return Ca(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,d=i(l),u=s<=a;r=s;const p={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:d||void 0,estimated:d&&a&&u?(a-s)/d:void 0,event:o,lengthComputable:a!=null,[n?"download":"upload"]:!0};e(p)},t)},Br=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},Ur=e=>(...n)=>T.asap(()=>e(...n)),Aa=Re.hasStandardBrowserEnv?function(){const n=Re.navigator&&/(msie|trident)/i.test(Re.navigator.userAgent),t=document.createElement("a");let r;function i(o){let s=o;return n&&(t.setAttribute("href",s),s=t.href),t.setAttribute("href",s),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(s){const a=T.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),Ma=Re.hasStandardBrowserEnv?{write(e,n,t,r,i,o){const s=[e+"="+encodeURIComponent(n)];T.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),T.isString(r)&&s.push("path="+r),T.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Pa(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function La(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function Ki(e,n){return e&&!Pa(n)?La(e,n):n}const kr=e=>e instanceof xe?{...e}:e;function rt(e,n){n=n||{};const t={};function r(d,u,p){return T.isPlainObject(d)&&T.isPlainObject(u)?T.merge.call({caseless:p},d,u):T.isPlainObject(u)?T.merge({},u):T.isArray(u)?u.slice():u}function i(d,u,p){if(T.isUndefined(u)){if(!T.isUndefined(d))return r(void 0,d,p)}else return r(d,u,p)}function o(d,u){if(!T.isUndefined(u))return r(void 0,u)}function s(d,u){if(T.isUndefined(u)){if(!T.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function a(d,u,p){if(p in n)return r(d,u);if(p in e)return r(void 0,d)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(d,u)=>i(kr(d),kr(u),!0)};return T.forEach(Object.keys(Object.assign({},e,n)),function(u){const p=l[u]||i,h=p(e[u],n[u],u);T.isUndefined(h)&&p!==a||(t[u]=h)}),t}const Qi=e=>{const n=rt({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=n;n.headers=s=xe.from(s),n.url=ji(Ki(n.baseURL,n.url),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(T.isFormData(t)){if(Re.hasStandardBrowserEnv||Re.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[d,...u]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...u].join("; "))}}if(Re.hasStandardBrowserEnv&&(r&&T.isFunction(r)&&(r=r(n)),r||r!==!1&&Aa(n.url))){const d=i&&o&&Ma.read(o);d&&s.set(i,d)}return n},Na=typeof XMLHttpRequest<"u",Fa=Na&&function(e){return new Promise(function(t,r){const i=Qi(e);let o=i.data;const s=xe.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:d}=i,u,p,h,I,m;function E(){I&&I(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let D=new XMLHttpRequest;D.open(i.method.toUpperCase(),i.url,!0),D.timeout=i.timeout;function y(){if(!D)return;const A=xe.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),M={data:!a||a==="text"||a==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:A,config:e,request:D};Xi(function(j){t(j),E()},function(j){r(j),E()},M),D=null}"onloadend"in D?D.onloadend=y:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(y)},D.onabort=function(){D&&(r(new q("Request aborted",q.ECONNABORTED,e,D)),D=null)},D.onerror=function(){r(new q("Network Error",q.ERR_NETWORK,e,D)),D=null},D.ontimeout=function(){let L=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const M=i.transitional||$i;i.timeoutErrorMessage&&(L=i.timeoutErrorMessage),r(new q(L,M.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,e,D)),D=null},o===void 0&&s.setContentType(null),"setRequestHeader"in D&&T.forEach(s.toJSON(),function(L,M){D.setRequestHeader(M,L)}),T.isUndefined(i.withCredentials)||(D.withCredentials=!!i.withCredentials),a&&a!=="json"&&(D.responseType=i.responseType),d&&([h,m]=$t(d,!0),D.addEventListener("progress",h)),l&&D.upload&&([p,I]=$t(l),D.upload.addEventListener("progress",p),D.upload.addEventListener("loadend",I)),(i.cancelToken||i.signal)&&(u=A=>{D&&(r(!A||A.type?new mt(null,e,D):A),D.abort(),D=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const S=wa(i.url);if(S&&Re.protocols.indexOf(S)===-1){r(new q("Unsupported protocol "+S+":",q.ERR_BAD_REQUEST,e));return}D.send(o||null)})},xa=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const o=function(d){if(!i){i=!0,a();const u=d instanceof Error?d:this.reason;r.abort(u instanceof q?u:new mt(u instanceof Error?u.message:u))}};let s=n&&setTimeout(()=>{s=null,o(new q(`timeout ${n} of ms exceeded`,q.ETIMEDOUT))},n);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),e=null)};e.forEach(d=>d.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>T.asap(a),l}},Ga=xa,Ba=function*(e,n){let t=e.byteLength;if(!n||t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},Ua=async function*(e,n){for await(const t of ka(e))yield*Ba(t,n)},ka=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},Hr=(e,n,t,r)=>{const i=Ua(e,n);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:d,value:u}=await i.next();if(d){a(),l.close();return}let p=u.byteLength;if(t){let h=o+=p;t(h)}l.enqueue(new Uint8Array(u))}catch(d){throw a(d),d}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},on=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ji=on&&typeof ReadableStream=="function",Ha=on&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Zi=(e,...n)=>{try{return!!e(...n)}catch{return!1}},Va=Ji&&Zi(()=>{let e=!1;const n=new Request(Re.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),Vr=64*1024,Bn=Ji&&Zi(()=>T.isReadableStream(new Response("").body)),Wt={stream:Bn&&(e=>e.body)};on&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!Wt[n]&&(Wt[n]=T.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new q(`Response type '${n}' is not supported`,q.ERR_NOT_SUPPORT,r)})})})(new Response);const Ya=async e=>{if(e==null)return 0;if(T.isBlob(e))return e.size;if(T.isSpecCompliantForm(e))return(await new Request(Re.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(T.isArrayBufferView(e)||T.isArrayBuffer(e))return e.byteLength;if(T.isURLSearchParams(e)&&(e=e+""),T.isString(e))return(await Ha(e)).byteLength},qa=async(e,n)=>{const t=T.toFiniteNumber(e.getContentLength());return t??Ya(n)},ja=on&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:d,headers:u,withCredentials:p="same-origin",fetchOptions:h}=Qi(e);d=d?(d+"").toLowerCase():"text";let I=Ga([i,o&&o.toAbortSignal()],s),m;const E=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let D;try{if(l&&Va&&t!=="get"&&t!=="head"&&(D=await qa(u,r))!==0){let M=new Request(n,{method:"POST",body:r,duplex:"half"}),F;if(T.isFormData(r)&&(F=M.headers.get("content-type"))&&u.setContentType(F),M.body){const[j,C]=Br(D,$t(Ur(l)));r=Hr(M.body,Vr,j,C)}}T.isString(p)||(p=p?"include":"omit");const y="credentials"in Request.prototype;m=new Request(n,{...h,signal:I,method:t.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:y?p:void 0});let S=await fetch(m);const A=Bn&&(d==="stream"||d==="response");if(Bn&&(a||A&&E)){const M={};["status","statusText","headers"].forEach(B=>{M[B]=S[B]});const F=T.toFiniteNumber(S.headers.get("content-length")),[j,C]=a&&Br(F,$t(Ur(a),!0))||[];S=new Response(Hr(S.body,Vr,j,()=>{C&&C(),E&&E()}),M)}d=d||"text";let L=await Wt[T.findKey(Wt,d)||"text"](S,e);return!A&&E&&E(),await new Promise((M,F)=>{Xi(M,F,{data:L,headers:xe.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:m})})}catch(y){throw E&&E(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new q("Network Error",q.ERR_NETWORK,e,m),{cause:y.cause||y}):q.from(y,y&&y.code,e,m)}}),Un={http:ia,xhr:Fa,fetch:ja};T.forEach(Un,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const Yr=e=>`- ${e}`,$a=e=>T.isFunction(e)||e===null||e===!1,es={getAdapter:e=>{e=T.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let o=0;o<n;o++){t=e[o];let s;if(r=t,!$a(t)&&(r=Un[(s=String(t)).toLowerCase()],r===void 0))throw new q(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=n?o.length>1?`since :
`+o.map(Yr).join(`
`):" "+Yr(o[0]):"as no adapter specified";throw new q("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Un};function yn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new mt(null,e)}function qr(e){return yn(e),e.headers=xe.from(e.headers),e.data=Rn.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),es.getAdapter(e.adapter||lr.adapter)(e).then(function(r){return yn(e),r.data=Rn.call(e,e.transformResponse,r),r.headers=xe.from(r.headers),r},function(r){return zi(r)||(yn(e),r&&r.response&&(r.response.data=Rn.call(e,e.transformResponse,r.response),r.response.headers=xe.from(r.response.headers))),Promise.reject(r)})}const ts="1.7.7",cr={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{cr[e]=function(r){return typeof r===e||"a"+(n<1?"n ":" ")+e}});const jr={};cr.transitional=function(n,t,r){function i(o,s){return"[Axios v"+ts+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(n===!1)throw new q(i(s," has been removed"+(t?" in "+t:"")),q.ERR_DEPRECATED);return t&&!jr[s]&&(jr[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),n?n(o,s,a):!0}};function Wa(e,n,t){if(typeof e!="object")throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=n[o];if(s){const a=e[o],l=a===void 0||s(a,o,e);if(l!==!0)throw new q("option "+o+" must be "+l,q.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new q("Unknown option "+o,q.ERR_BAD_OPTION)}}const kn={assertOptions:Wa,validators:cr},Ye=kn.validators;class zt{constructor(n){this.defaults=n,this.interceptors={request:new xr,response:new xr}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=rt(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&kn.assertOptions(r,{silentJSONParsing:Ye.transitional(Ye.boolean),forcedJSONParsing:Ye.transitional(Ye.boolean),clarifyTimeoutError:Ye.transitional(Ye.boolean)},!1),i!=null&&(T.isFunction(i)?t.paramsSerializer={serialize:i}:kn.assertOptions(i,{encode:Ye.function,serialize:Ye.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=o&&T.merge(o.common,o[t.method]);o&&T.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),t.headers=xe.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(t)===!1||(l=l&&E.synchronous,a.unshift(E.fulfilled,E.rejected))});const d=[];this.interceptors.response.forEach(function(E){d.push(E.fulfilled,E.rejected)});let u,p=0,h;if(!l){const m=[qr.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,d),h=m.length,u=Promise.resolve(t);p<h;)u=u.then(m[p++],m[p++]);return u}h=a.length;let I=t;for(p=0;p<h;){const m=a[p++],E=a[p++];try{I=m(I)}catch(D){E.call(this,D);break}}try{u=qr.call(this,I)}catch(m){return Promise.reject(m)}for(p=0,h=d.length;p<h;)u=u.then(d[p++],d[p++]);return u}getUri(n){n=rt(this.defaults,n);const t=Ki(n.baseURL,n.url);return ji(t,n.params,n.paramsSerializer)}}T.forEach(["delete","get","head","options"],function(n){zt.prototype[n]=function(t,r){return this.request(rt(r||{},{method:n,url:t,data:(r||{}).data}))}});T.forEach(["post","put","patch"],function(n){function t(r){return function(o,s,a){return this.request(rt(a||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}zt.prototype[n]=t(),zt.prototype[n+"Form"]=t(!0)});const Vt=zt;class ur{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},n(function(o,s,a){r.reason||(r.reason=new mt(o,s,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new ur(function(i){n=i}),cancel:n}}}const za=ur;function Xa(e){return function(t){return e.apply(null,t)}}function Ka(e){return T.isObject(e)&&e.isAxiosError===!0}const Hn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hn).forEach(([e,n])=>{Hn[n]=e});const Qa=Hn;function ns(e){const n=new Vt(e),t=Li(Vt.prototype.request,n);return T.extend(t,Vt.prototype,n,{allOwnKeys:!0}),T.extend(t,n,null,{allOwnKeys:!0}),t.create=function(i){return ns(rt(e,i))},t}const le=ns(lr);le.Axios=Vt;le.CanceledError=mt;le.CancelToken=za;le.isCancel=zi;le.VERSION=ts;le.toFormData=rn;le.AxiosError=q;le.Cancel=le.CanceledError;le.all=function(n){return Promise.all(n)};le.spread=Xa;le.isAxiosError=Ka;le.mergeConfig=rt;le.AxiosHeaders=xe;le.formToJSON=e=>Wi(T.isHTMLForm(e)?new FormData(e):e);le.getAdapter=es.getAdapter;le.HttpStatusCode=Qa;le.default=le;const Ja=le;window.axios=Ja;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var On=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],ct={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return typeof console<"u"&&console.warn(e)},getWeek:function(e){var n=new Date(e.getTime());n.setHours(0,0,0,0),n.setDate(n.getDate()+3-(n.getDay()+6)%7);var t=new Date(n.getFullYear(),0,4);return 1+Math.round(((n.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},St={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var n=e%100;if(n>3&&n<21)return"th";switch(n%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},De=function(e,n){return n===void 0&&(n=2),("000"+e).slice(n*-1)},Ae=function(e){return e===!0?1:0};function $r(e,n){var t;return function(){var r=this,i=arguments;clearTimeout(t),t=setTimeout(function(){return e.apply(r,i)},n)}}var Sn=function(e){return e instanceof Array?e:[e]};function Ee(e,n,t){if(t===!0)return e.classList.add(n);e.classList.remove(n)}function J(e,n,t){var r=window.document.createElement(e);return n=n||"",t=t||"",r.className=n,t!==void 0&&(r.textContent=t),r}function Pt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function rs(e,n){if(n(e))return e;if(e.parentNode)return rs(e.parentNode,n)}function Lt(e,n){var t=J("div","numInputWrapper"),r=J("input","numInput "+e),i=J("span","arrowUp"),o=J("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),n!==void 0)for(var s in n)r.setAttribute(s,n[s]);return t.appendChild(r),t.appendChild(i),t.appendChild(o),t}function Oe(e){try{if(typeof e.composedPath=="function"){var n=e.composedPath();return n[0]}return e.target}catch{return e.target}}var bn=function(){},Xt=function(e,n,t){return t.months[n?"shorthand":"longhand"][e]},Za={D:bn,F:function(e,n,t){e.setMonth(t.months.longhand.indexOf(n))},G:function(e,n){e.setHours((e.getHours()>=12?12:0)+parseFloat(n))},H:function(e,n){e.setHours(parseFloat(n))},J:function(e,n){e.setDate(parseFloat(n))},K:function(e,n,t){e.setHours(e.getHours()%12+12*Ae(new RegExp(t.amPM[1],"i").test(n)))},M:function(e,n,t){e.setMonth(t.months.shorthand.indexOf(n))},S:function(e,n){e.setSeconds(parseFloat(n))},U:function(e,n){return new Date(parseFloat(n)*1e3)},W:function(e,n,t){var r=parseInt(n),i=new Date(e.getFullYear(),0,2+(r-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:function(e,n){e.setFullYear(parseFloat(n))},Z:function(e,n){return new Date(n)},d:function(e,n){e.setDate(parseFloat(n))},h:function(e,n){e.setHours((e.getHours()>=12?12:0)+parseFloat(n))},i:function(e,n){e.setMinutes(parseFloat(n))},j:function(e,n){e.setDate(parseFloat(n))},l:bn,m:function(e,n){e.setMonth(parseFloat(n)-1)},n:function(e,n){e.setMonth(parseFloat(n)-1)},s:function(e,n){e.setSeconds(parseFloat(n))},u:function(e,n){return new Date(parseFloat(n))},w:bn,y:function(e,n){e.setFullYear(2e3+parseFloat(n))}},ze={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Rt={Z:function(e){return e.toISOString()},D:function(e,n,t){return n.weekdays.shorthand[Rt.w(e,n,t)]},F:function(e,n,t){return Xt(Rt.n(e,n,t)-1,!1,n)},G:function(e,n,t){return De(Rt.h(e,n,t))},H:function(e){return De(e.getHours())},J:function(e,n){return n.ordinal!==void 0?e.getDate()+n.ordinal(e.getDate()):e.getDate()},K:function(e,n){return n.amPM[Ae(e.getHours()>11)]},M:function(e,n){return Xt(e.getMonth(),!0,n)},S:function(e){return De(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,n,t){return t.getWeek(e)},Y:function(e){return De(e.getFullYear(),4)},d:function(e){return De(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return De(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,n){return n.weekdays.longhand[e.getDay()]},m:function(e){return De(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},is=function(e){var n=e.config,t=n===void 0?ct:n,r=e.l10n,i=r===void 0?St:r,o=e.isMobile,s=o===void 0?!1:o;return function(a,l,d){var u=d||i;return t.formatDate!==void 0&&!s?t.formatDate(a,l,u):l.split("").map(function(p,h,I){return Rt[p]&&I[h-1]!=="\\"?Rt[p](a,u,t):p!=="\\"?p:""}).join("")}},Vn=function(e){var n=e.config,t=n===void 0?ct:n,r=e.l10n,i=r===void 0?St:r;return function(o,s,a,l){if(!(o!==0&&!o)){var d=l||i,u,p=o;if(o instanceof Date)u=new Date(o.getTime());else if(typeof o!="string"&&o.toFixed!==void 0)u=new Date(o);else if(typeof o=="string"){var h=s||(t||ct).dateFormat,I=String(o).trim();if(I==="today")u=new Date,a=!0;else if(t&&t.parseDate)u=t.parseDate(o,h);else if(/Z$/.test(I)||/GMT$/.test(I))u=new Date(o);else{for(var m=void 0,E=[],D=0,y=0,S="";D<h.length;D++){var A=h[D],L=A==="\\",M=h[D-1]==="\\"||L;if(ze[A]&&!M){S+=ze[A];var F=new RegExp(S).exec(o);F&&(m=!0)&&E[A!=="Y"?"push":"unshift"]({fn:Za[A],val:F[++y]})}else L||(S+=".")}u=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),E.forEach(function(j){var C=j.fn,B=j.val;return u=C(u,B,d)||u}),u=m?u:void 0}}if(!(u instanceof Date&&!isNaN(u.getTime()))){t.errorHandler(new Error("Invalid date provided: "+p));return}return a===!0&&u.setHours(0,0,0,0),u}}};function Se(e,n,t){return t===void 0&&(t=!0),t!==!1?new Date(e.getTime()).setHours(0,0,0,0)-new Date(n.getTime()).setHours(0,0,0,0):e.getTime()-n.getTime()}var el=function(e,n,t){return e>Math.min(n,t)&&e<Math.max(n,t)},wn=function(e,n,t){return e*3600+n*60+t},tl=function(e){var n=Math.floor(e/3600),t=(e-n*3600)/60;return[n,t,e-n*3600-t*60]},nl={DAY:864e5};function vn(e){var n=e.defaultHour,t=e.defaultMinute,r=e.defaultSeconds;if(e.minDate!==void 0){var i=e.minDate.getHours(),o=e.minDate.getMinutes(),s=e.minDate.getSeconds();n<i&&(n=i),n===i&&t<o&&(t=o),n===i&&t===o&&r<s&&(r=e.minDate.getSeconds())}if(e.maxDate!==void 0){var a=e.maxDate.getHours(),l=e.maxDate.getMinutes();n=Math.min(n,a),n===a&&(t=Math.min(l,t)),n===a&&t===l&&(r=e.maxDate.getSeconds())}return{hours:n,minutes:t,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var r=function(a){a&&Object.keys(a).forEach(function(l){return e[l]=a[l]})},i=0,o=n;i<o.length;i++){var s=o[i];r(s)}return e});var ge=globalThis&&globalThis.__assign||function(){return ge=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ge.apply(this,arguments)},Wr=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var o=arguments[n],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},rl=300;function il(e,n){var t={config:ge(ge({},ct),fe.defaultConfig),l10n:St};t.parseDate=Vn({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=E,t._setHoursFromDate=h,t._positionCalendar=Ct,t.changeMonth=ee,t.changeYear=ie,t.clear=Et,t.close=mn,t.onMouseOver=vt,t._createElement=J,t.createDay=F,t.destroy=Be,t.isEnabled=pe,t.jumpToDate=S,t.updateValue=ke,t.open=Ks,t.redraw=wr,t.set=eo,t.setDate=to,t.toggle=so;function r(){t.utils={getDaysInMonth:function(c,f){return c===void 0&&(c=t.currentMonth),f===void 0&&(f=t.currentYear),c===1&&(f%4===0&&f%100!==0||f%400===0)?29:t.l10n.daysInMonth[c]}}}function i(){t.element=t.input=e,t.isOpen=!1,Qs(),br(),ro(),no(),r(),t.isMobile||M(),y(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&h(t.config.noCalendar?t.latestSelectedDateObj:void 0),ke(!1)),a();var c=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&c&&Ct(),ne("onReady")}function o(){var c;return((c=t.calendarContainer)===null||c===void 0?void 0:c.getRootNode()).activeElement||document.activeElement}function s(c){return c.bind(t)}function a(){var c=t.config;c.weekNumbers===!1&&c.showMonths===1||c.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var f=(t.days.offsetWidth+1)*c.showMonths;t.daysContainer.style.width=f+"px",t.calendarContainer.style.width=f+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function l(c){if(t.selectedDates.length===0){var f=t.config.minDate===void 0||Se(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),g=vn(t.config);f.setHours(g.hours,g.minutes,g.seconds,f.getMilliseconds()),t.selectedDates=[f],t.latestSelectedDateObj=f}c!==void 0&&c.type!=="blur"&&lo(c);var _=t._input.value;p(),ke(),t._input.value!==_&&t._debouncedChange()}function d(c,f){return c%12+12*Ae(f===t.l10n.amPM[1])}function u(c){switch(c%24){case 0:case 12:return 12;default:return c%12}}function p(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var c=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,f=(parseInt(t.minuteElement.value,10)||0)%60,g=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(c=d(c,t.amPM.textContent));var _=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&Se(t.latestSelectedDateObj,t.config.minDate,!0)===0,b=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&Se(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var P=wn(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),$=wn(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),x=wn(c,f,g);if(x>$&&x<P){var X=tl(P);c=X[0],f=X[1],g=X[2]}}else{if(b){var N=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;c=Math.min(c,N.getHours()),c===N.getHours()&&(f=Math.min(f,N.getMinutes())),f===N.getMinutes()&&(g=Math.min(g,N.getSeconds()))}if(_){var H=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;c=Math.max(c,H.getHours()),c===H.getHours()&&f<H.getMinutes()&&(f=H.getMinutes()),f===H.getMinutes()&&(g=Math.max(g,H.getSeconds()))}}I(c,f,g)}}function h(c){var f=c||t.latestSelectedDateObj;f&&f instanceof Date&&I(f.getHours(),f.getMinutes(),f.getSeconds())}function I(c,f,g){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(c%24,f,g||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=De(t.config.time_24hr?c:(12+c)%12+12*Ae(c%12===0)),t.minuteElement.value=De(f),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[Ae(c>=12)]),t.secondElement!==void 0&&(t.secondElement.value=De(g)))}function m(c){var f=Oe(c),g=parseInt(f.value)+(c.delta||0);(g/1e3>1||c.key==="Enter"&&!/[^\d]/.test(g.toString()))&&ie(g)}function E(c,f,g,_){if(f instanceof Array)return f.forEach(function(b){return E(c,b,g,_)});if(c instanceof Array)return c.forEach(function(b){return E(b,f,g,_)});c.addEventListener(f,g,_),t._handlers.push({remove:function(){return c.removeEventListener(f,g,_)}})}function D(){ne("onChange")}function y(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(g){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+g+"]"),function(_){return E(_,"click",t[g])})}),t.isMobile){io();return}var c=$r(Xs,50);if(t._debouncedChange=$r(D,rl),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&E(t.daysContainer,"mouseover",function(g){t.config.mode==="range"&&vt(Oe(g))}),E(t._input,"keydown",We),t.calendarContainer!==void 0&&E(t.calendarContainer,"keydown",We),!t.config.inline&&!t.config.static&&E(window,"resize",c),window.ontouchstart!==void 0?E(window.document,"touchstart",z):E(window.document,"mousedown",z),E(window.document,"focus",z,{capture:!0}),t.config.clickOpens===!0&&(E(t._input,"focus",t.open),E(t._input,"click",t.open)),t.daysContainer!==void 0&&(E(t.monthNav,"click",ao),E(t.monthNav,["keyup","increment"],m),E(t.daysContainer,"click",vr)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var f=function(g){return Oe(g).select()};E(t.timeContainer,["increment"],l),E(t.timeContainer,"blur",l,{capture:!0}),E(t.timeContainer,"click",A),E([t.hourElement,t.minuteElement],["focus","click"],f),t.secondElement!==void 0&&E(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&E(t.amPM,"click",function(g){l(g)})}t.config.allowInput&&E(t._input,"blur",me)}function S(c,f){var g=c!==void 0?t.parseDate(c):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),_=t.currentYear,b=t.currentMonth;try{g!==void 0&&(t.currentYear=g.getFullYear(),t.currentMonth=g.getMonth())}catch(P){P.message="Invalid date supplied: "+g,t.config.errorHandler(P)}f&&t.currentYear!==_&&(ne("onYearChange"),te()),f&&(t.currentYear!==_||t.currentMonth!==b)&&ne("onMonthChange"),t.redraw()}function A(c){var f=Oe(c);~f.className.indexOf("arrow")&&L(c,f.classList.contains("arrowUp")?1:-1)}function L(c,f,g){var _=c&&Oe(c),b=g||_&&_.parentNode&&_.parentNode.firstChild,P=En("increment");P.delta=f,b&&b.dispatchEvent(P)}function M(){var c=window.document.createDocumentFragment();if(t.calendarContainer=J("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(c.appendChild(O()),t.innerContainer=J("div","flatpickr-innerContainer"),t.config.weekNumbers){var f=Q(),g=f.weekWrapper,_=f.weekNumbers;t.innerContainer.appendChild(g),t.weekNumbers=_,t.weekWrapper=g}t.rContainer=J("div","flatpickr-rContainer"),t.rContainer.appendChild(U()),t.daysContainer||(t.daysContainer=J("div","flatpickr-days"),t.daysContainer.tabIndex=-1),V(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),c.appendChild(t.innerContainer)}t.config.enableTime&&c.appendChild(v()),Ee(t.calendarContainer,"rangeMode",t.config.mode==="range"),Ee(t.calendarContainer,"animate",t.config.animate===!0),Ee(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(c);var b=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!b&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var P=J("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(P,t.element),P.appendChild(t.element),t.altInput&&P.appendChild(t.altInput),P.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function F(c,f,g,_){var b=pe(f,!0),P=J("span",c,f.getDate().toString());return P.dateObj=f,P.$i=_,P.setAttribute("aria-label",t.formatDate(f,t.config.ariaDateFormat)),c.indexOf("hidden")===-1&&Se(f,t.now)===0&&(t.todayDateElem=P,P.classList.add("today"),P.setAttribute("aria-current","date")),b?(P.tabIndex=-1,hn(f)&&(P.classList.add("selected"),t.selectedDateElem=P,t.config.mode==="range"&&(Ee(P,"startRange",t.selectedDates[0]&&Se(f,t.selectedDates[0],!0)===0),Ee(P,"endRange",t.selectedDates[1]&&Se(f,t.selectedDates[1],!0)===0),c==="nextMonthDay"&&P.classList.add("inRange")))):P.classList.add("flatpickr-disabled"),t.config.mode==="range"&&oo(f)&&!hn(f)&&P.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&c!=="prevMonthDay"&&_%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(f)+"</span>"),ne("onDayCreate",P),P}function j(c){c.focus(),t.config.mode==="range"&&vt(c)}function C(c){for(var f=c>0?0:t.config.showMonths-1,g=c>0?t.config.showMonths:-1,_=f;_!=g;_+=c)for(var b=t.daysContainer.children[_],P=c>0?0:b.children.length-1,$=c>0?b.children.length:-1,x=P;x!=$;x+=c){var X=b.children[x];if(X.className.indexOf("hidden")===-1&&pe(X.dateObj))return X}}function B(c,f){for(var g=c.className.indexOf("Month")===-1?c.dateObj.getMonth():t.currentMonth,_=f>0?t.config.showMonths:-1,b=f>0?1:-1,P=g-t.currentMonth;P!=_;P+=b)for(var $=t.daysContainer.children[P],x=g-t.currentMonth===P?c.$i+f:f<0?$.children.length-1:0,X=$.children.length,N=x;N>=0&&N<X&&N!=(f>0?X:-1);N+=b){var H=$.children[N];if(H.className.indexOf("hidden")===-1&&pe(H.dateObj)&&Math.abs(c.$i-N)>=Math.abs(f))return j(H)}t.changeMonth(b),W(C(b),0)}function W(c,f){var g=o(),_=Pe(g||document.body),b=c!==void 0?c:_?g:t.selectedDateElem!==void 0&&Pe(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&Pe(t.todayDateElem)?t.todayDateElem:C(f>0?1:-1);b===void 0?t._input.focus():_?B(b,f):j(b)}function k(c,f){for(var g=(new Date(c,f,1).getDay()-t.l10n.firstDayOfWeek+7)%7,_=t.utils.getDaysInMonth((f-1+12)%12,c),b=t.utils.getDaysInMonth(f,c),P=window.document.createDocumentFragment(),$=t.config.showMonths>1,x=$?"prevMonthDay hidden":"prevMonthDay",X=$?"nextMonthDay hidden":"nextMonthDay",N=_+1-g,H=0;N<=_;N++,H++)P.appendChild(F("flatpickr-day "+x,new Date(c,f-1,N),N,H));for(N=1;N<=b;N++,H++)P.appendChild(F("flatpickr-day",new Date(c,f,N),N,H));for(var Z=b+1;Z<=42-g&&(t.config.showMonths===1||H%7!==0);Z++,H++)P.appendChild(F("flatpickr-day "+X,new Date(c,f+1,Z%b),Z,H));var Ue=J("div","dayContainer");return Ue.appendChild(P),Ue}function V(){if(t.daysContainer!==void 0){Pt(t.daysContainer),t.weekNumbers&&Pt(t.weekNumbers);for(var c=document.createDocumentFragment(),f=0;f<t.config.showMonths;f++){var g=new Date(t.currentYear,t.currentMonth,1);g.setMonth(t.currentMonth+f),c.appendChild(k(g.getFullYear(),g.getMonth()))}t.daysContainer.appendChild(c),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&vt()}}function te(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var c=function(_){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&_<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&_>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var f=0;f<12;f++)if(c(f)){var g=J("option","flatpickr-monthDropdown-month");g.value=new Date(t.currentYear,f).getMonth().toString(),g.textContent=Xt(f,t.config.shorthandCurrentMonth,t.l10n),g.tabIndex=-1,t.currentMonth===f&&(g.selected=!0),t.monthsDropdownContainer.appendChild(g)}}}function w(){var c=J("div","flatpickr-month"),f=window.document.createDocumentFragment(),g;t.config.showMonths>1||t.config.monthSelectorType==="static"?g=J("span","cur-month"):(t.monthsDropdownContainer=J("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),E(t.monthsDropdownContainer,"change",function($){var x=Oe($),X=parseInt(x.value,10);t.changeMonth(X-t.currentMonth),ne("onMonthChange")}),te(),g=t.monthsDropdownContainer);var _=Lt("cur-year",{tabindex:"-1"}),b=_.getElementsByTagName("input")[0];b.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&b.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(b.setAttribute("max",t.config.maxDate.getFullYear().toString()),b.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var P=J("div","flatpickr-current-month");return P.appendChild(g),P.appendChild(_),f.appendChild(P),c.appendChild(f),{container:c,yearElement:b,monthElement:g}}function K(){Pt(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var c=t.config.showMonths;c--;){var f=w();t.yearElements.push(f.yearElement),t.monthElements.push(f.monthElement),t.monthNav.appendChild(f.container)}t.monthNav.appendChild(t.nextMonthNav)}function O(){return t.monthNav=J("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=J("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=J("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,K(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(c){t.__hidePrevMonthArrow!==c&&(Ee(t.prevMonthNav,"flatpickr-disabled",c),t.__hidePrevMonthArrow=c)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(c){t.__hideNextMonthArrow!==c&&(Ee(t.nextMonthNav,"flatpickr-disabled",c),t.__hideNextMonthArrow=c)}}),t.currentYearElement=t.yearElements[0],Mt(),t.monthNav}function v(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var c=vn(t.config);t.timeContainer=J("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var f=J("span","flatpickr-time-separator",":"),g=Lt("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=g.getElementsByTagName("input")[0];var _=Lt("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=_.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=De(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?c.hours:u(c.hours)),t.minuteElement.value=De(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():c.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(g),t.timeContainer.appendChild(f),t.timeContainer.appendChild(_),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var b=Lt("flatpickr-second");t.secondElement=b.getElementsByTagName("input")[0],t.secondElement.value=De(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():c.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(J("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(b)}return t.config.time_24hr||(t.amPM=J("span","flatpickr-am-pm",t.l10n.amPM[Ae((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function U(){t.weekdayContainer?Pt(t.weekdayContainer):t.weekdayContainer=J("div","flatpickr-weekdays");for(var c=t.config.showMonths;c--;){var f=J("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(f)}return G(),t.weekdayContainer}function G(){if(t.weekdayContainer){var c=t.l10n.firstDayOfWeek,f=Wr(t.l10n.weekdays.shorthand);c>0&&c<f.length&&(f=Wr(f.splice(c,f.length),f.splice(0,c)));for(var g=t.config.showMonths;g--;)t.weekdayContainer.children[g].innerHTML=`
      <span class='flatpickr-weekday'>
        `+f.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Q(){t.calendarContainer.classList.add("hasWeeks");var c=J("div","flatpickr-weekwrapper");c.appendChild(J("span","flatpickr-weekday",t.l10n.weekAbbreviation));var f=J("div","flatpickr-weeks");return c.appendChild(f),{weekWrapper:c,weekNumbers:f}}function ee(c,f){f===void 0&&(f=!0);var g=f?c:c-t.currentMonth;g<0&&t._hidePrevMonthArrow===!0||g>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=g,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,ne("onYearChange"),te()),V(),ne("onMonthChange"),Mt())}function Et(c,f){if(c===void 0&&(c=!0),f===void 0&&(f=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,f===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var g=vn(t.config),_=g.hours,b=g.minutes,P=g.seconds;I(_,b,P)}t.redraw(),c&&ne("onChange")}function mn(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),ne("onClose")}function Be(){t.config!==void 0&&ne("onDestroy");for(var c=t._handlers.length;c--;)t._handlers[c].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var f=t.calendarContainer.parentNode;if(f.lastChild&&f.removeChild(f.lastChild),f.parentNode){for(;f.firstChild;)f.parentNode.insertBefore(f.firstChild,f);f.parentNode.removeChild(f)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(g){try{delete t[g]}catch{}})}function $e(c){return t.calendarContainer.contains(c)}function z(c){if(t.isOpen&&!t.config.inline){var f=Oe(c),g=$e(f),_=f===t.input||f===t.altInput||t.element.contains(f)||c.path&&c.path.indexOf&&(~c.path.indexOf(t.input)||~c.path.indexOf(t.altInput)),b=!_&&!g&&!$e(c.relatedTarget),P=!t.config.ignoredFocusElements.some(function($){return $.contains(f)});b&&P&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&l(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function ie(c){if(!(!c||t.config.minDate&&c<t.config.minDate.getFullYear()||t.config.maxDate&&c>t.config.maxDate.getFullYear())){var f=c,g=t.currentYear!==f;t.currentYear=f||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),g&&(t.redraw(),ne("onYearChange"),te())}}function pe(c,f){var g;f===void 0&&(f=!0);var _=t.parseDate(c,void 0,f);if(t.config.minDate&&_&&Se(_,t.config.minDate,f!==void 0?f:!t.minDateHasTime)<0||t.config.maxDate&&_&&Se(_,t.config.maxDate,f!==void 0?f:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(_===void 0)return!1;for(var b=!!t.config.enable,P=(g=t.config.enable)!==null&&g!==void 0?g:t.config.disable,$=0,x=void 0;$<P.length;$++){if(x=P[$],typeof x=="function"&&x(_))return b;if(x instanceof Date&&_!==void 0&&x.getTime()===_.getTime())return b;if(typeof x=="string"){var X=t.parseDate(x,void 0,!0);return X&&X.getTime()===_.getTime()?b:!b}else if(typeof x=="object"&&_!==void 0&&x.from&&x.to&&_.getTime()>=x.from.getTime()&&_.getTime()<=x.to.getTime())return b}return!b}function Pe(c){return t.daysContainer!==void 0?c.className.indexOf("hidden")===-1&&c.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(c):!1}function me(c){var f=c.target===t._input,g=t._input.value.trimEnd()!==Tn();f&&g&&!(c.relatedTarget&&$e(c.relatedTarget))&&t.setDate(t._input.value,!0,c.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function We(c){var f=Oe(c),g=t.config.wrap?e.contains(f):f===t._input,_=t.config.allowInput,b=t.isOpen&&(!_||!g),P=t.config.inline&&g&&!_;if(c.keyCode===13&&g){if(_)return t.setDate(t._input.value,!0,f===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),f.blur();t.open()}else if($e(f)||b||P){var $=!!t.timeContainer&&t.timeContainer.contains(f);switch(c.keyCode){case 13:$?(c.preventDefault(),l(),gn()):vr(c);break;case 27:c.preventDefault(),gn();break;case 8:case 46:g&&!t.config.allowInput&&(c.preventDefault(),t.clear());break;case 37:case 39:if(!$&&!g){c.preventDefault();var x=o();if(t.daysContainer!==void 0&&(_===!1||x&&Pe(x))){var X=c.keyCode===39?1:-1;c.ctrlKey?(c.stopPropagation(),ee(X),W(C(1),0)):W(void 0,X)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:c.preventDefault();var N=c.keyCode===40?1:-1;t.daysContainer&&f.$i!==void 0||f===t.input||f===t.altInput?c.ctrlKey?(c.stopPropagation(),ie(t.currentYear-N),W(C(1),0)):$||W(void 0,N*7):f===t.currentYearElement?ie(t.currentYear-N):t.config.enableTime&&(!$&&t.hourElement&&t.hourElement.focus(),l(c),t._debouncedChange());break;case 9:if($){var H=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(ye){return ye}),Z=H.indexOf(f);if(Z!==-1){var Ue=H[Z+(c.shiftKey?-1:1)];c.preventDefault(),(Ue||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(f)&&c.shiftKey&&(c.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&f===t.amPM)switch(c.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],p(),ke();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],p(),ke();break}(g||$e(f))&&ne("onKeyDown",c)}function vt(c,f){if(f===void 0&&(f="flatpickr-day"),!(t.selectedDates.length!==1||c&&(!c.classList.contains(f)||c.classList.contains("flatpickr-disabled")))){for(var g=c?c.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),_=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),b=Math.min(g,t.selectedDates[0].getTime()),P=Math.max(g,t.selectedDates[0].getTime()),$=!1,x=0,X=0,N=b;N<P;N+=nl.DAY)pe(new Date(N),!0)||($=$||N>b&&N<P,N<_&&(!x||N>x)?x=N:N>_&&(!X||N<X)&&(X=N));var H=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+f));H.forEach(function(Z){var Ue=Z.dateObj,ye=Ue.getTime(),ht=x>0&&ye<x||X>0&&ye>X;if(ht){Z.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(ot){Z.classList.remove(ot)});return}else if($&&!ht)return;["startRange","inRange","endRange","notAllowed"].forEach(function(ot){Z.classList.remove(ot)}),c!==void 0&&(c.classList.add(g<=t.selectedDates[0].getTime()?"startRange":"endRange"),_<g&&ye===_?Z.classList.add("startRange"):_>g&&ye===_&&Z.classList.add("endRange"),ye>=x&&(X===0||ye<=X)&&el(ye,_,g)&&Z.classList.add("inRange"))})}}function Xs(){t.isOpen&&!t.config.static&&!t.config.inline&&Ct()}function Ks(c,f){if(f===void 0&&(f=t._positionElement),t.isMobile===!0){if(c){c.preventDefault();var g=Oe(c);g&&g.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),ne("onOpen");return}else if(t._input.disabled||t.config.inline)return;var _=t.isOpen;t.isOpen=!0,_||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),ne("onOpen"),Ct(f)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(c===void 0||!t.timeContainer.contains(c.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function Or(c){return function(f){var g=t.config["_"+c+"Date"]=t.parseDate(f,t.config.dateFormat),_=t.config["_"+(c==="min"?"max":"min")+"Date"];g!==void 0&&(t[c==="min"?"minDateHasTime":"maxDateHasTime"]=g.getHours()>0||g.getMinutes()>0||g.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(b){return pe(b)}),!t.selectedDates.length&&c==="min"&&h(g),ke()),t.daysContainer&&(wr(),g!==void 0?t.currentYearElement[c]=g.getFullYear().toString():t.currentYearElement.removeAttribute(c),t.currentYearElement.disabled=!!_&&g!==void 0&&_.getFullYear()===g.getFullYear())}}function Qs(){var c=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],f=ge(ge({},JSON.parse(JSON.stringify(e.dataset||{}))),n),g={};t.config.parseDate=f.parseDate,t.config.formatDate=f.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(H){t.config._enable=Ar(H)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(H){t.config._disable=Ar(H)}});var _=f.mode==="time";if(!f.dateFormat&&(f.enableTime||_)){var b=fe.defaultConfig.dateFormat||ct.dateFormat;g.dateFormat=f.noCalendar||_?"H:i"+(f.enableSeconds?":S":""):b+" H:i"+(f.enableSeconds?":S":"")}if(f.altInput&&(f.enableTime||_)&&!f.altFormat){var P=fe.defaultConfig.altFormat||ct.altFormat;g.altFormat=f.noCalendar||_?"h:i"+(f.enableSeconds?":S K":" K"):P+(" h:i"+(f.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:Or("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:Or("max")});var $=function(H){return function(Z){t.config[H==="min"?"_minTime":"_maxTime"]=t.parseDate(Z,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:$("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:$("max")}),f.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,g,f);for(var x=0;x<c.length;x++)t.config[c[x]]=t.config[c[x]]===!0||t.config[c[x]]==="true";On.filter(function(H){return t.config[H]!==void 0}).forEach(function(H){t.config[H]=Sn(t.config[H]||[]).map(s)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var x=0;x<t.config.plugins.length;x++){var X=t.config.plugins[x](t)||{};for(var N in X)On.indexOf(N)>-1?t.config[N]=Sn(X[N]).map(s).concat(t.config[N]):typeof f[N]>"u"&&(t.config[N]=X[N])}f.altInputClass||(t.config.altInputClass=Sr().className+" "+t.config.altInputClass),ne("onParseConfig")}function Sr(){return t.config.wrap?e.querySelector("[data-input]"):e}function br(){typeof t.config.locale!="object"&&typeof fe.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=ge(ge({},fe.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?fe.l10ns[t.config.locale]:void 0),ze.D="("+t.l10n.weekdays.shorthand.join("|")+")",ze.l="("+t.l10n.weekdays.longhand.join("|")+")",ze.M="("+t.l10n.months.shorthand.join("|")+")",ze.F="("+t.l10n.months.longhand.join("|")+")",ze.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var c=ge(ge({},n),JSON.parse(JSON.stringify(e.dataset||{})));c.time_24hr===void 0&&fe.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=is(t),t.parseDate=Vn({config:t.config,l10n:t.l10n})}function Ct(c){if(typeof t.config.position=="function")return void t.config.position(t,c);if(t.calendarContainer!==void 0){ne("onPreCalendarPosition");var f=c||t._positionElement,g=Array.prototype.reduce.call(t.calendarContainer.children,function(ho,To){return ho+To.offsetHeight},0),_=t.calendarContainer.offsetWidth,b=t.config.position.split(" "),P=b[0],$=b.length>1?b[1]:null,x=f.getBoundingClientRect(),X=window.innerHeight-x.bottom,N=P==="above"||P!=="below"&&X<g&&x.top>g,H=window.pageYOffset+x.top+(N?-g-2:f.offsetHeight+2);if(Ee(t.calendarContainer,"arrowTop",!N),Ee(t.calendarContainer,"arrowBottom",N),!t.config.inline){var Z=window.pageXOffset+x.left,Ue=!1,ye=!1;$==="center"?(Z-=(_-x.width)/2,Ue=!0):$==="right"&&(Z-=_-x.width,ye=!0),Ee(t.calendarContainer,"arrowLeft",!Ue&&!ye),Ee(t.calendarContainer,"arrowCenter",Ue),Ee(t.calendarContainer,"arrowRight",ye);var ht=window.document.body.offsetWidth-(window.pageXOffset+x.right),ot=Z+_>window.document.body.offsetWidth,co=ht+_>window.document.body.offsetWidth;if(Ee(t.calendarContainer,"rightMost",ot),!t.config.static)if(t.calendarContainer.style.top=H+"px",!ot)t.calendarContainer.style.left=Z+"px",t.calendarContainer.style.right="auto";else if(!co)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=ht+"px";else{var _n=Js();if(_n===void 0)return;var uo=window.document.body.offsetWidth,fo=Math.max(0,uo/2-_/2),po=".flatpickr-calendar.centerMost:before",mo=".flatpickr-calendar.centerMost:after",go=_n.cssRules.length,Eo="{left:"+x.left+"px;right:auto;}";Ee(t.calendarContainer,"rightMost",!1),Ee(t.calendarContainer,"centerMost",!0),_n.insertRule(po+","+mo+Eo,go),t.calendarContainer.style.left=fo+"px",t.calendarContainer.style.right="auto"}}}}function Js(){for(var c=null,f=0;f<document.styleSheets.length;f++){var g=document.styleSheets[f];if(g.cssRules){try{g.cssRules}catch{continue}c=g;break}}return c??Zs()}function Zs(){var c=document.createElement("style");return document.head.appendChild(c),c.sheet}function wr(){t.config.noCalendar||t.isMobile||(te(),Mt(),V())}function gn(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function vr(c){c.preventDefault(),c.stopPropagation();var f=function(H){return H.classList&&H.classList.contains("flatpickr-day")&&!H.classList.contains("flatpickr-disabled")&&!H.classList.contains("notAllowed")},g=rs(Oe(c),f);if(g!==void 0){var _=g,b=t.latestSelectedDateObj=new Date(_.dateObj.getTime()),P=(b.getMonth()<t.currentMonth||b.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=_,t.config.mode==="single")t.selectedDates=[b];else if(t.config.mode==="multiple"){var $=hn(b);$?t.selectedDates.splice(parseInt($),1):t.selectedDates.push(b)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=b,t.selectedDates.push(b),Se(b,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(H,Z){return H.getTime()-Z.getTime()}));if(p(),P){var x=t.currentYear!==b.getFullYear();t.currentYear=b.getFullYear(),t.currentMonth=b.getMonth(),x&&(ne("onYearChange"),te()),ne("onMonthChange")}if(Mt(),V(),ke(),!P&&t.config.mode!=="range"&&t.config.showMonths===1?j(_):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var X=t.config.mode==="single"&&!t.config.enableTime,N=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(X||N)&&gn()}D()}}var At={locale:[br,G],showMonths:[K,a,U],minDate:[S],maxDate:[S],positionElement:[Mr],clickOpens:[function(){t.config.clickOpens===!0?(E(t._input,"focus",t.open),E(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function eo(c,f){if(c!==null&&typeof c=="object"){Object.assign(t.config,c);for(var g in c)At[g]!==void 0&&At[g].forEach(function(_){return _()})}else t.config[c]=f,At[c]!==void 0?At[c].forEach(function(_){return _()}):On.indexOf(c)>-1&&(t.config[c]=Sn(f));t.redraw(),ke(!0)}function Cr(c,f){var g=[];if(c instanceof Array)g=c.map(function(_){return t.parseDate(_,f)});else if(c instanceof Date||typeof c=="number")g=[t.parseDate(c,f)];else if(typeof c=="string")switch(t.config.mode){case"single":case"time":g=[t.parseDate(c,f)];break;case"multiple":g=c.split(t.config.conjunction).map(function(_){return t.parseDate(_,f)});break;case"range":g=c.split(t.l10n.rangeSeparator).map(function(_){return t.parseDate(_,f)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(c)));t.selectedDates=t.config.allowInvalidPreload?g:g.filter(function(_){return _ instanceof Date&&pe(_,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(_,b){return _.getTime()-b.getTime()})}function to(c,f,g){if(f===void 0&&(f=!1),g===void 0&&(g=t.config.dateFormat),c!==0&&!c||c instanceof Array&&c.length===0)return t.clear(f);Cr(c,g),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),S(void 0,f),h(),t.selectedDates.length===0&&t.clear(!1),ke(f),f&&ne("onChange")}function Ar(c){return c.slice().map(function(f){return typeof f=="string"||typeof f=="number"||f instanceof Date?t.parseDate(f,void 0,!0):f&&typeof f=="object"&&f.from&&f.to?{from:t.parseDate(f.from,void 0),to:t.parseDate(f.to,void 0)}:f}).filter(function(f){return f})}function no(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var c=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);c&&Cr(c,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function ro(){if(t.input=Sr(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=J(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),Mr()}function Mr(){t._positionElement=t.config.positionElement||t._input}function io(){var c=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=J("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=c,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=c==="datetime-local"?"Y-m-d\\TH:i:S":c==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}E(t.mobileInput,"change",function(f){t.setDate(Oe(f).value,!1,t.mobileFormatStr),ne("onChange"),ne("onClose")})}function so(c){if(t.isOpen===!0)return t.close();t.open(c)}function ne(c,f){if(t.config!==void 0){var g=t.config[c];if(g!==void 0&&g.length>0)for(var _=0;g[_]&&_<g.length;_++)g[_](t.selectedDates,t.input.value,t,f);c==="onChange"&&(t.input.dispatchEvent(En("change")),t.input.dispatchEvent(En("input")))}}function En(c){var f=document.createEvent("Event");return f.initEvent(c,!0,!0),f}function hn(c){for(var f=0;f<t.selectedDates.length;f++){var g=t.selectedDates[f];if(g instanceof Date&&Se(g,c)===0)return""+f}return!1}function oo(c){return t.config.mode!=="range"||t.selectedDates.length<2?!1:Se(c,t.selectedDates[0])>=0&&Se(c,t.selectedDates[1])<=0}function Mt(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(c,f){var g=new Date(t.currentYear,t.currentMonth,1);g.setMonth(t.currentMonth+f),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[f].textContent=Xt(g.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=g.getMonth().toString(),c.value=g.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function Tn(c){var f=c||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(g){return t.formatDate(g,f)}).filter(function(g,_,b){return t.config.mode!=="range"||t.config.enableTime||b.indexOf(g)===_}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function ke(c){c===void 0&&(c=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=Tn(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=Tn(t.config.altFormat)),c!==!1&&ne("onValueUpdate")}function ao(c){var f=Oe(c),g=t.prevMonthNav.contains(f),_=t.nextMonthNav.contains(f);g||_?ee(g?-1:1):t.yearElements.indexOf(f)>=0?f.select():f.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):f.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function lo(c){c.preventDefault();var f=c.type==="keydown",g=Oe(c),_=g;t.amPM!==void 0&&g===t.amPM&&(t.amPM.textContent=t.l10n.amPM[Ae(t.amPM.textContent===t.l10n.amPM[0])]);var b=parseFloat(_.getAttribute("min")),P=parseFloat(_.getAttribute("max")),$=parseFloat(_.getAttribute("step")),x=parseInt(_.value,10),X=c.delta||(f?c.which===38?1:-1:0),N=x+$*X;if(typeof _.value<"u"&&_.value.length===2){var H=_===t.hourElement,Z=_===t.minuteElement;N<b?(N=P+N+Ae(!H)+(Ae(H)&&Ae(!t.amPM)),Z&&L(void 0,-1,t.hourElement)):N>P&&(N=_===t.hourElement?N-P-Ae(!t.amPM):b,Z&&L(void 0,1,t.hourElement)),t.amPM&&H&&($===1?N+x===23:Math.abs(N-x)>$)&&(t.amPM.textContent=t.l10n.amPM[Ae(t.amPM.textContent===t.l10n.amPM[0])]),_.value=De(N)}}return i(),t}function ut(e,n){for(var t=Array.prototype.slice.call(e).filter(function(s){return s instanceof HTMLElement}),r=[],i=0;i<t.length;i++){var o=t[i];try{if(o.getAttribute("data-fp-omit")!==null)continue;o._flatpickr!==void 0&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=il(o,n||{}),r.push(o._flatpickr)}catch(s){console.error(s)}}return r.length===1?r[0]:r}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return ut(this,e)},HTMLElement.prototype.flatpickr=function(e){return ut([this],e)});var fe=function(e,n){return typeof e=="string"?ut(window.document.querySelectorAll(e),n):e instanceof Node?ut([e],n):ut(e,n)};fe.defaultConfig={};fe.l10ns={en:ge({},St),default:ge({},St)};fe.localize=function(e){fe.l10ns.default=ge(ge({},fe.l10ns.default),e)};fe.setDefaults=function(e){fe.defaultConfig=ge(ge({},fe.defaultConfig),e)};fe.parseDate=Vn({});fe.formatDate=is({});fe.compareDates=Se;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(e){return ut(this,e)});Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof e=="string"?parseInt(e,10):e))};typeof window<"u"&&(window.flatpickr=fe);/*!
 * FilePond 4.31.1
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const sl=e=>e instanceof HTMLElement,ol=(e,n=[],t=[])=>{const r={...e},i=[],o=[],s=()=>({...r}),a=()=>{const m=[...i];return i.length=0,m},l=()=>{const m=[...o];o.length=0,m.forEach(({type:E,data:D})=>{d(E,D)})},d=(m,E,D)=>{if(D&&!document.hidden){o.push({type:m,data:E});return}I[m]&&I[m](E),i.push({type:m,data:E})},u=(m,...E)=>h[m]?h[m](...E):null,p={getState:s,processActionQueue:a,processDispatchQueue:l,dispatch:d,query:u};let h={};n.forEach(m=>{h={...m(r),...h}});let I={};return t.forEach(m=>{I={...m(d,u,r),...I}}),p},al=(e,n,t)=>{if(typeof t=="function"){e[n]=t;return}Object.defineProperty(e,n,{...t})},re=(e,n)=>{for(const t in e)e.hasOwnProperty(t)&&n(t,e[t])},je=e=>{const n={};return re(e,t=>{al(n,t,e[t])}),n},ae=(e,n,t=null)=>{if(t===null)return e.getAttribute(n)||e.hasAttribute(n);e.setAttribute(n,t)},ll="http://www.w3.org/2000/svg",cl=["svg","path"],zr=e=>cl.includes(e),Kt=(e,n,t={})=>{typeof n=="object"&&(t=n,n=null);const r=zr(e)?document.createElementNS(ll,e):document.createElement(e);return n&&(zr(e)?ae(r,"class",n):r.className=n),re(t,(i,o)=>{ae(r,i,o)}),r},ul=e=>(n,t)=>{typeof t<"u"&&e.children[t]?e.insertBefore(n,e.children[t]):e.appendChild(n)},fl=(e,n)=>(t,r)=>(typeof r<"u"?n.splice(r,0,t):n.push(t),t),dl=(e,n)=>t=>(n.splice(n.indexOf(t),1),t.element.parentNode&&e.removeChild(t.element),t),pl=(()=>typeof window<"u"&&typeof window.document<"u")(),ss=()=>pl,ml=ss()?Kt("svg"):{},gl="children"in ml?e=>e.children.length:e=>e.childNodes.length,os=(e,n,t,r)=>{const i=t[0]||e.left,o=t[1]||e.top,s=i+e.width,a=o+e.height*(r[1]||1),l={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:i,top:o,right:s,bottom:a}};return n.filter(d=>!d.isRectIgnored()).map(d=>d.rect).forEach(d=>{Xr(l.inner,{...d.inner}),Xr(l.outer,{...d.outer})}),Kr(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,Kr(l.outer),l},Xr=(e,n)=>{n.top+=e.top,n.right+=e.left,n.bottom+=e.top,n.left+=e.left,n.bottom>e.bottom&&(e.bottom=n.bottom),n.right>e.right&&(e.right=n.right)},Kr=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},Ke=e=>typeof e=="number",El=(e,n,t,r=.001)=>Math.abs(e-n)<r&&Math.abs(t)<r,hl=({stiffness:e=.5,damping:n=.75,mass:t=10}={})=>{let r=null,i=null,o=0,s=!1;const d=je({interpolate:(u,p)=>{if(s)return;if(!(Ke(r)&&Ke(i))){s=!0,o=0;return}const h=-(i-r)*e;o+=h/t,i+=o,o*=n,El(i,r,o)||p?(i=r,o=0,s=!0,d.onupdate(i),d.oncomplete(i)):d.onupdate(i)},target:{set:u=>{if(Ke(u)&&!Ke(i)&&(i=u),r===null&&(r=u,i=u),r=u,i===r||typeof r>"u"){s=!0,o=0,d.onupdate(i),d.oncomplete(i);return}s=!1},get:()=>r},resting:{get:()=>s},onupdate:u=>{},oncomplete:u=>{}});return d},Tl=e=>e<.5?2*e*e:-1+(4-2*e)*e,_l=({duration:e=500,easing:n=Tl,delay:t=0}={})=>{let r=null,i,o,s=!0,a=!1,l=null;const u=je({interpolate:(p,h)=>{s||l===null||(r===null&&(r=p),!(p-r<t)&&(i=p-r-t,i>=e||h?(i=1,o=a?0:1,u.onupdate(o*l),u.oncomplete(o*l),s=!0):(o=i/e,u.onupdate((i>=0?n(a?1-o:o):0)*l))))},target:{get:()=>a?0:l,set:p=>{if(l===null){l=p,u.onupdate(p),u.oncomplete(p);return}p<l?(l=1,a=!0):(a=!1,l=p),s=!1,r=null}},resting:{get:()=>s},onupdate:p=>{},oncomplete:p=>{}});return u},Qr={spring:hl,tween:_l},Il=(e,n,t)=>{const r=e[n]&&typeof e[n][t]=="object"?e[n][t]:e[n]||e,i=typeof r=="string"?r:r.type,o=typeof r=="object"?{...r}:{};return Qr[i]?Qr[i](o):null},fr=(e,n,t,r=!1)=>{n=Array.isArray(n)?n:[n],n.forEach(i=>{e.forEach(o=>{let s=o,a=()=>t[o],l=d=>t[o]=d;typeof o=="object"&&(s=o.key,a=o.getter||a,l=o.setter||l),!(i[s]&&!r)&&(i[s]={get:a,set:l})})})},Dl=({mixinConfig:e,viewProps:n,viewInternalAPI:t,viewExternalAPI:r})=>{const i={...n},o=[];return re(e,(s,a)=>{const l=Il(a);if(!l)return;l.onupdate=u=>{n[s]=u},l.target=i[s],fr([{key:s,setter:u=>{l.target!==u&&(l.target=u)},getter:()=>n[s]}],[t,r],n,!0),o.push(l)}),{write:s=>{let a=document.hidden,l=!0;return o.forEach(d=>{d.resting||(l=!1),d.interpolate(s,a)}),l},destroy:()=>{}}},Rl=e=>(n,t)=>{e.addEventListener(n,t)},yl=e=>(n,t)=>{e.removeEventListener(n,t)},Ol=({mixinConfig:e,viewProps:n,viewInternalAPI:t,viewExternalAPI:r,viewState:i,view:o})=>{const s=[],a=Rl(o.element),l=yl(o.element);return r.on=(d,u)=>{s.push({type:d,fn:u}),a(d,u)},r.off=(d,u)=>{s.splice(s.findIndex(p=>p.type===d&&p.fn===u),1),l(d,u)},{write:()=>!0,destroy:()=>{s.forEach(d=>{l(d.type,d.fn)})}}},Sl=({mixinConfig:e,viewProps:n,viewExternalAPI:t})=>{fr(e,t,n)},he=e=>e!=null,bl={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},wl=({mixinConfig:e,viewProps:n,viewInternalAPI:t,viewExternalAPI:r,view:i})=>{const o={...n},s={};fr(e,[t,r],n);const a=()=>[n.translateX||0,n.translateY||0],l=()=>[n.scaleX||0,n.scaleY||0],d=()=>i.rect?os(i.rect,i.childViews,a(),l()):null;return t.rect={get:d},r.rect={get:d},e.forEach(u=>{n[u]=typeof o[u]>"u"?bl[u]:o[u]}),{write:()=>{if(vl(s,n))return Cl(i.element,n),Object.assign(s,{...n}),!0},destroy:()=>{}}},vl=(e,n)=>{if(Object.keys(e).length!==Object.keys(n).length)return!0;for(const t in n)if(n[t]!==e[t])return!0;return!1},Cl=(e,{opacity:n,perspective:t,translateX:r,translateY:i,scaleX:o,scaleY:s,rotateX:a,rotateY:l,rotateZ:d,originX:u,originY:p,width:h,height:I})=>{let m="",E="";(he(u)||he(p))&&(E+=`transform-origin: ${u||0}px ${p||0}px;`),he(t)&&(m+=`perspective(${t}px) `),(he(r)||he(i))&&(m+=`translate3d(${r||0}px, ${i||0}px, 0) `),(he(o)||he(s))&&(m+=`scale3d(${he(o)?o:1}, ${he(s)?s:1}, 1) `),he(d)&&(m+=`rotateZ(${d}rad) `),he(a)&&(m+=`rotateX(${a}rad) `),he(l)&&(m+=`rotateY(${l}rad) `),m.length&&(E+=`transform:${m};`),he(n)&&(E+=`opacity:${n};`,n===0&&(E+="visibility:hidden;"),n<1&&(E+="pointer-events:none;")),he(I)&&(E+=`height:${I}px;`),he(h)&&(E+=`width:${h}px;`);const D=e.elementCurrentStyle||"";(E.length!==D.length||E!==D)&&(e.style.cssText=E,e.elementCurrentStyle=E)},Al={styles:wl,listeners:Ol,animations:Dl,apis:Sl},Jr=(e={},n={},t={})=>(n.layoutCalculated||(e.paddingTop=parseInt(t.paddingTop,10)||0,e.marginTop=parseInt(t.marginTop,10)||0,e.marginRight=parseInt(t.marginRight,10)||0,e.marginBottom=parseInt(t.marginBottom,10)||0,e.marginLeft=parseInt(t.marginLeft,10)||0,n.layoutCalculated=!0),e.left=n.offsetLeft||0,e.top=n.offsetTop||0,e.width=n.offsetWidth||0,e.height=n.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=n.scrollTop,e.hidden=n.offsetParent===null,e),ce=({tag:e="div",name:n=null,attributes:t={},read:r=()=>{},write:i=()=>{},create:o=()=>{},destroy:s=()=>{},filterFrameActionsForChild:a=(I,m)=>m,didCreateView:l=()=>{},didWriteView:d=()=>{},ignoreRect:u=!1,ignoreRectUpdate:p=!1,mixins:h=[]}={})=>(I,m={})=>{const E=Kt(e,`filepond--${n}`,t),D=window.getComputedStyle(E,null),y=Jr();let S=null,A=!1;const L=[],M=[],F={},j={},C=[i],B=[r],W=[s],k=()=>E,V=()=>L.concat(),te=()=>F,w=z=>(ie,pe)=>ie(z,pe),K=()=>S||(S=os(y,L,[0,0],[1,1]),S),O=()=>D,v=()=>{S=null,L.forEach(pe=>pe._read()),!(p&&y.width&&y.height)&&Jr(y,E,D);const ie={root:Be,props:m,rect:y};B.forEach(pe=>pe(ie))},U=(z,ie,pe)=>{let Pe=ie.length===0;return C.forEach(me=>{me({props:m,root:Be,actions:ie,timestamp:z,shouldOptimize:pe})===!1&&(Pe=!1)}),M.forEach(me=>{me.write(z)===!1&&(Pe=!1)}),L.filter(me=>!!me.element.parentNode).forEach(me=>{me._write(z,a(me,ie),pe)||(Pe=!1)}),L.forEach((me,We)=>{me.element.parentNode||(Be.appendChild(me.element,We),me._read(),me._write(z,a(me,ie),pe),Pe=!1)}),A=Pe,d({props:m,root:Be,actions:ie,timestamp:z}),Pe},G=()=>{M.forEach(z=>z.destroy()),W.forEach(z=>{z({root:Be,props:m})}),L.forEach(z=>z._destroy())},Q={element:{get:k},style:{get:O},childViews:{get:V}},ee={...Q,rect:{get:K},ref:{get:te},is:z=>n===z,appendChild:ul(E),createChildView:w(I),linkView:z=>(L.push(z),z),unlinkView:z=>{L.splice(L.indexOf(z),1)},appendChildView:fl(E,L),removeChildView:dl(E,L),registerWriter:z=>C.push(z),registerReader:z=>B.push(z),registerDestroyer:z=>W.push(z),invalidateLayout:()=>E.layoutCalculated=!1,dispatch:I.dispatch,query:I.query},Et={element:{get:k},childViews:{get:V},rect:{get:K},resting:{get:()=>A},isRectIgnored:()=>u,_read:v,_write:U,_destroy:G},mn={...Q,rect:{get:()=>y}};Object.keys(h).sort((z,ie)=>z==="styles"?1:ie==="styles"?-1:0).forEach(z=>{const ie=Al[z]({mixinConfig:h[z],viewProps:m,viewState:j,viewInternalAPI:ee,viewExternalAPI:Et,view:je(mn)});ie&&M.push(ie)});const Be=je(ee);o({root:Be,props:m});const $e=gl(E);return L.forEach((z,ie)=>{Be.appendChild(z.element,$e+ie)}),l(Be),je(Et)},Ml=(e,n,t=60)=>{const r="__framePainter";if(window[r]){window[r].readers.push(e),window[r].writers.push(n);return}window[r]={readers:[e],writers:[n]};const i=window[r],o=1e3/t;let s=null,a=null,l=null,d=null;const u=()=>{document.hidden?(l=()=>window.setTimeout(()=>p(performance.now()),o),d=()=>window.clearTimeout(a)):(l=()=>window.requestAnimationFrame(p),d=()=>window.cancelAnimationFrame(a))};document.addEventListener("visibilitychange",()=>{d&&d(),u(),p(performance.now())});const p=h=>{a=l(p),s||(s=h);const I=h-s;I<=o||(s=h-I%o,i.readers.forEach(m=>m()),i.writers.forEach(m=>m(h)))};return u(),p(performance.now()),{pause:()=>{d(a)}}},_e=(e,n)=>({root:t,props:r,actions:i=[],timestamp:o,shouldOptimize:s})=>{i.filter(a=>e[a.type]).forEach(a=>e[a.type]({root:t,props:r,action:a.data,timestamp:o,shouldOptimize:s})),n&&n({root:t,props:r,actions:i,timestamp:o,shouldOptimize:s})},Zr=(e,n)=>n.parentNode.insertBefore(e,n),ei=(e,n)=>n.parentNode.insertBefore(e,n.nextSibling),an=e=>Array.isArray(e),He=e=>e==null,Pl=e=>e.trim(),ln=e=>""+e,Ll=(e,n=",")=>He(e)?[]:an(e)?e:ln(e).split(n).map(Pl).filter(t=>t.length),as=e=>typeof e=="boolean",ls=e=>as(e)?e:e==="true",Te=e=>typeof e=="string",cs=e=>Ke(e)?e:Te(e)?ln(e).replace(/[a-z]+/gi,""):0,Yt=e=>parseInt(cs(e),10),ti=e=>parseFloat(cs(e)),gt=e=>Ke(e)&&isFinite(e)&&Math.floor(e)===e,ni=(e,n=1e3)=>{if(gt(e))return e;let t=ln(e).trim();return/MB$/i.test(t)?(t=t.replace(/MB$i/,"").trim(),Yt(t)*n*n):/KB/i.test(t)?(t=t.replace(/KB$i/,"").trim(),Yt(t)*n):Yt(t)},Qe=e=>typeof e=="function",Nl=e=>{let n=self,t=e.split("."),r=null;for(;r=t.shift();)if(n=n[r],!n)return null;return n},ri={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},Fl=e=>{const n={};return n.url=Te(e)?e:e.url||"",n.timeout=e.timeout?parseInt(e.timeout,10):0,n.headers=e.headers?e.headers:{},re(ri,t=>{n[t]=xl(t,e[t],ri[t],n.timeout,n.headers)}),n.process=e.process||Te(e)||e.url?n.process:null,n.remove=e.remove||null,delete n.headers,n},xl=(e,n,t,r,i)=>{if(n===null)return null;if(typeof n=="function")return n;const o={url:t==="GET"||t==="PATCH"?`?${e}=`:"",method:t,headers:i,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(Te(n))return o.url=n,o;if(Object.assign(o,n),Te(o.headers)){const s=o.headers.split(/:(.+)/);o.headers={header:s[0],value:s[1]}}return o.withCredentials=ls(o.withCredentials),o},Gl=e=>Fl(e),Bl=e=>e===null,de=e=>typeof e=="object"&&e!==null,Ul=e=>de(e)&&Te(e.url)&&de(e.process)&&de(e.revert)&&de(e.restore)&&de(e.fetch),Yn=e=>an(e)?"array":Bl(e)?"null":gt(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":Ul(e)?"api":typeof e,kl=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),Hl={array:Ll,boolean:ls,int:e=>Yn(e)==="bytes"?ni(e):Yt(e),number:ti,float:ti,bytes:ni,string:e=>Qe(e)?e:ln(e),function:e=>Nl(e),serverapi:Gl,object:e=>{try{return JSON.parse(kl(e))}catch{return null}}},Vl=(e,n)=>Hl[n](e),us=(e,n,t)=>{if(e===n)return e;let r=Yn(e);if(r!==t){const i=Vl(e,t);if(r=Yn(i),i===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${t}"`;e=i}return e},Yl=(e,n)=>{let t=e;return{enumerable:!0,get:()=>t,set:r=>{t=us(r,e,n)}}},ql=e=>{const n={};return re(e,t=>{const r=e[t];n[t]=Yl(r[0],r[1])}),je(n)},jl=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:ql(e)}),cn=(e,n="-")=>e.split(/(?=[A-Z])/).map(t=>t.toLowerCase()).join(n),$l=(e,n)=>{const t={};return re(n,r=>{t[r]={get:()=>e.getState().options[r],set:i=>{e.dispatch(`SET_${cn(r,"_").toUpperCase()}`,{value:i})}}}),t},Wl=e=>(n,t,r)=>{const i={};return re(e,o=>{const s=cn(o,"_").toUpperCase();i[`SET_${s}`]=a=>{try{r.options[o]=a.value}catch{}n(`DID_SET_${s}`,{value:r.options[o]})}}),i},zl=e=>n=>{const t={};return re(e,r=>{t[`GET_${cn(r,"_").toUpperCase()}`]=i=>n.options[r]}),t},Me={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},dr=()=>Math.random().toString(36).substring(2,11),pr=(e,n)=>e.splice(n,1),Xl=(e,n)=>{n?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},un=()=>{const e=[],n=(r,i)=>{pr(e,e.findIndex(o=>o.event===r&&(o.cb===i||!i)))},t=(r,i,o)=>{e.filter(s=>s.event===r).map(s=>s.cb).forEach(s=>Xl(()=>s(...i),o))};return{fireSync:(r,...i)=>{t(r,i,!0)},fire:(r,...i)=>{t(r,i,!1)},on:(r,i)=>{e.push({event:r,cb:i})},onOnce:(r,i)=>{e.push({event:r,cb:(...o)=>{n(r,i),i(...o)}})},off:n}},fs=(e,n,t)=>{Object.getOwnPropertyNames(e).filter(r=>!t.includes(r)).forEach(r=>Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r)))},Kl=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Ie=e=>{const n={};return fs(e,n,Kl),n},Ql=e=>{e.forEach((n,t)=>{n.released&&pr(e,t)})},Y={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},ue={INPUT:1,LIMBO:2,LOCAL:3},ds=e=>/[^0-9]+/.exec(e),ps=()=>ds(1.1.toLocaleString())[0],Jl=()=>{const e=ps(),n=1e3.toLocaleString(),t=1e3.toString();return n!==t?ds(n)[0]:e==="."?",":"."},R={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},mr=[],Le=(e,n,t)=>new Promise((r,i)=>{const o=mr.filter(a=>a.key===e).map(a=>a.cb);if(o.length===0){r(n);return}const s=o.shift();o.reduce((a,l)=>a.then(d=>l(d,t)),s(n,t)).then(a=>r(a)).catch(a=>i(a))}),it=(e,n,t)=>mr.filter(r=>r.key===e).map(r=>r.cb(n,t)),Zl=(e,n)=>mr.push({key:e,cb:n}),ec=e=>Object.assign(at,e),Qt=()=>({...at}),tc=e=>{re(e,(n,t)=>{at[n]&&(at[n][0]=us(t,at[n][0],at[n][1]))})},at={id:[null,R.STRING],name:["filepond",R.STRING],disabled:[!1,R.BOOLEAN],className:[null,R.STRING],required:[!1,R.BOOLEAN],captureMethod:[null,R.STRING],allowSyncAcceptAttribute:[!0,R.BOOLEAN],allowDrop:[!0,R.BOOLEAN],allowBrowse:[!0,R.BOOLEAN],allowPaste:[!0,R.BOOLEAN],allowMultiple:[!1,R.BOOLEAN],allowReplace:[!0,R.BOOLEAN],allowRevert:[!0,R.BOOLEAN],allowRemove:[!0,R.BOOLEAN],allowProcess:[!0,R.BOOLEAN],allowReorder:[!1,R.BOOLEAN],allowDirectoriesOnly:[!1,R.BOOLEAN],storeAsFile:[!1,R.BOOLEAN],forceRevert:[!1,R.BOOLEAN],maxFiles:[null,R.INT],checkValidity:[!1,R.BOOLEAN],itemInsertLocationFreedom:[!0,R.BOOLEAN],itemInsertLocation:["before",R.STRING],itemInsertInterval:[75,R.INT],dropOnPage:[!1,R.BOOLEAN],dropOnElement:[!0,R.BOOLEAN],dropValidation:[!1,R.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],R.ARRAY],instantUpload:[!0,R.BOOLEAN],maxParallelUploads:[2,R.INT],allowMinimumUploadDuration:[!0,R.BOOLEAN],chunkUploads:[!1,R.BOOLEAN],chunkForce:[!1,R.BOOLEAN],chunkSize:[5e6,R.INT],chunkRetryDelays:[[500,1e3,3e3],R.ARRAY],server:[null,R.SERVER_API],fileSizeBase:[1e3,R.INT],labelFileSizeBytes:["bytes",R.STRING],labelFileSizeKilobytes:["KB",R.STRING],labelFileSizeMegabytes:["MB",R.STRING],labelFileSizeGigabytes:["GB",R.STRING],labelDecimalSeparator:[ps(),R.STRING],labelThousandsSeparator:[Jl(),R.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',R.STRING],labelInvalidField:["Field contains invalid files",R.STRING],labelFileWaitingForSize:["Waiting for size",R.STRING],labelFileSizeNotAvailable:["Size not available",R.STRING],labelFileCountSingular:["file in list",R.STRING],labelFileCountPlural:["files in list",R.STRING],labelFileLoading:["Loading",R.STRING],labelFileAdded:["Added",R.STRING],labelFileLoadError:["Error during load",R.STRING],labelFileRemoved:["Removed",R.STRING],labelFileRemoveError:["Error during remove",R.STRING],labelFileProcessing:["Uploading",R.STRING],labelFileProcessingComplete:["Upload complete",R.STRING],labelFileProcessingAborted:["Upload cancelled",R.STRING],labelFileProcessingError:["Error during upload",R.STRING],labelFileProcessingRevertError:["Error during revert",R.STRING],labelTapToCancel:["tap to cancel",R.STRING],labelTapToRetry:["tap to retry",R.STRING],labelTapToUndo:["tap to undo",R.STRING],labelButtonRemoveItem:["Remove",R.STRING],labelButtonAbortItemLoad:["Abort",R.STRING],labelButtonRetryItemLoad:["Retry",R.STRING],labelButtonAbortItemProcessing:["Cancel",R.STRING],labelButtonUndoItemProcessing:["Undo",R.STRING],labelButtonRetryItemProcessing:["Retry",R.STRING],labelButtonProcessItem:["Upload",R.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',R.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',R.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',R.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',R.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',R.STRING],oninit:[null,R.FUNCTION],onwarning:[null,R.FUNCTION],onerror:[null,R.FUNCTION],onactivatefile:[null,R.FUNCTION],oninitfile:[null,R.FUNCTION],onaddfilestart:[null,R.FUNCTION],onaddfileprogress:[null,R.FUNCTION],onaddfile:[null,R.FUNCTION],onprocessfilestart:[null,R.FUNCTION],onprocessfileprogress:[null,R.FUNCTION],onprocessfileabort:[null,R.FUNCTION],onprocessfilerevert:[null,R.FUNCTION],onprocessfile:[null,R.FUNCTION],onprocessfiles:[null,R.FUNCTION],onremovefile:[null,R.FUNCTION],onpreparefile:[null,R.FUNCTION],onupdatefiles:[null,R.FUNCTION],onreorderfiles:[null,R.FUNCTION],beforeDropFile:[null,R.FUNCTION],beforeAddFile:[null,R.FUNCTION],beforeRemoveFile:[null,R.FUNCTION],beforePrepareFile:[null,R.FUNCTION],stylePanelLayout:[null,R.STRING],stylePanelAspectRatio:[null,R.STRING],styleItemPanelAspectRatio:[null,R.STRING],styleButtonRemoveItemPosition:["left",R.STRING],styleButtonProcessItemPosition:["right",R.STRING],styleLoadIndicatorPosition:["right",R.STRING],styleProgressIndicatorPosition:["right",R.STRING],styleButtonRemoveItemAlign:[!1,R.BOOLEAN],files:[[],R.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],R.ARRAY]},Je=(e,n)=>He(n)?e[0]||null:gt(n)?e[n]||null:(typeof n=="object"&&(n=n.id),e.find(t=>t.id===n)||null),ms=e=>{if(He(e))return e;if(/:/.test(e)){const n=e.split(":");return n[1]/n[0]}return parseFloat(e)},Ne=e=>e.filter(n=>!n.archived),gs={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let Nt=null;const nc=()=>{if(Nt===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const n=document.createElement("input");n.setAttribute("type","file"),n.files=e.files,Nt=n.files.length===1}catch{Nt=!1}return Nt},rc=[Y.LOAD_ERROR,Y.PROCESSING_ERROR,Y.PROCESSING_REVERT_ERROR],ic=[Y.LOADING,Y.PROCESSING,Y.PROCESSING_QUEUED,Y.INIT],sc=[Y.PROCESSING_COMPLETE],oc=e=>rc.includes(e.status),ac=e=>ic.includes(e.status),lc=e=>sc.includes(e.status),ii=e=>de(e.options.server)&&(de(e.options.server.process)||Qe(e.options.server.process)),cc=e=>({GET_STATUS:()=>{const n=Ne(e.items),{EMPTY:t,ERROR:r,BUSY:i,IDLE:o,READY:s}=gs;return n.length===0?t:n.some(oc)?r:n.some(ac)?i:n.some(lc)?s:o},GET_ITEM:n=>Je(e.items,n),GET_ACTIVE_ITEM:n=>Je(Ne(e.items),n),GET_ACTIVE_ITEMS:()=>Ne(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:n=>{const t=Je(e.items,n);return t?t.filename:null},GET_ITEM_SIZE:n=>{const t=Je(e.items,n);return t?t.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(n=>/^style/.test(n)).map(n=>({name:n,value:e.options[n]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:ms(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:n=>Ne(e.items).filter(t=>t.status===n),GET_TOTAL_ITEMS:()=>Ne(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&nc()&&!ii(e),IS_ASYNC:()=>ii(e),GET_FILE_SIZE_LABELS:n=>({labelBytes:n("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:n("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:n("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:n("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),uc=e=>{const n=Ne(e.items).length;if(!e.options.allowMultiple)return n===0;const t=e.options.maxFiles;return t===null||n<t},Es=(e,n,t)=>Math.max(Math.min(t,e),n),fc=(e,n,t)=>e.splice(n,0,t),dc=(e,n,t)=>He(n)?null:typeof t>"u"?(e.push(n),n):(t=Es(t,0,e.length),fc(e,t,n),n),qn=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),wt=e=>`${e}`.split("/").pop().split("?").shift(),fn=e=>e.split(".").pop(),pc=e=>{if(typeof e!="string")return"";const n=e.split("/").pop();return/svg/.test(n)?"svg":/zip|compressed/.test(n)?"zip":/plain/.test(n)?"txt":/msword/.test(n)?"doc":/[a-z]+/.test(n)?n==="jpeg"?"jpg":n:""},_t=(e,n="")=>(n+e).slice(-n.length),hs=(e=new Date)=>`${e.getFullYear()}-${_t(e.getMonth()+1,"00")}-${_t(e.getDate(),"00")}_${_t(e.getHours(),"00")}-${_t(e.getMinutes(),"00")}-${_t(e.getSeconds(),"00")}`,dt=(e,n,t=null,r=null)=>{const i=typeof t=="string"?e.slice(0,e.size,t):e.slice(0,e.size,e.type);return i.lastModifiedDate=new Date,e._relativePath&&(i._relativePath=e._relativePath),Te(n)||(n=hs()),n&&r===null&&fn(n)?i.name=n:(r=r||pc(i.type),i.name=n+(r?"."+r:"")),i},mc=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Ts=(e,n)=>{const t=mc();if(t){const r=new t;return r.append(e),r.getBlob(n)}return new Blob([e],{type:n})},gc=(e,n)=>{const t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return Ts(t,n)},_s=e=>(/^data:(.+);/.exec(e)||[])[1]||null,Ec=e=>e.split(",")[1].replace(/\s/g,""),hc=e=>atob(Ec(e)),Tc=e=>{const n=_s(e),t=hc(e);return gc(t,n)},_c=(e,n,t)=>dt(Tc(e),n,null,t),Ic=e=>{if(!/^content-disposition:/i.test(e))return null;const n=e.split(/filename=|filename\*=.+''/).splice(1).map(t=>t.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(t=>t.length);return n.length?decodeURI(n[n.length-1]):null},Dc=e=>{if(/content-length:/i.test(e)){const n=e.match(/[0-9]+/)[0];return n?parseInt(n,10):null}return null},Rc=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,gr=e=>{const n={source:null,name:null,size:null},t=e.split(`
`);for(let r of t){const i=Ic(r);if(i){n.name=i;continue}const o=Dc(r);if(o){n.size=o;continue}const s=Rc(r);if(s){n.source=s;continue}}return n},yc=e=>{const n={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},t=()=>n.progress,r=()=>{n.request&&n.request.abort&&n.request.abort()},i=()=>{const a=n.source;s.fire("init",a),a instanceof File?s.fire("load",a):a instanceof Blob?s.fire("load",dt(a,a.name)):qn(a)?s.fire("load",_c(a)):o(a)},o=a=>{if(!e){s.fire("error",{type:"error",body:"Can't load URL",code:400});return}n.timestamp=Date.now(),n.request=e(a,l=>{n.duration=Date.now()-n.timestamp,n.complete=!0,l instanceof Blob&&(l=dt(l,l.name||wt(a))),s.fire("load",l instanceof Blob?l:l?l.body:null)},l=>{s.fire("error",typeof l=="string"?{type:"error",code:0,body:l}:l)},(l,d,u)=>{if(u&&(n.size=u),n.duration=Date.now()-n.timestamp,!l){n.progress=null;return}n.progress=d/u,s.fire("progress",n.progress)},()=>{s.fire("abort")},l=>{const d=gr(typeof l=="string"?l:l.headers);s.fire("meta",{size:n.size||d.size,filename:d.name,source:d.source})})},s={...un(),setSource:a=>n.source=a,getProgress:t,abort:r,load:i};return s},si=e=>/GET|HEAD/.test(e),Ze=(e,n,t)=>{const r={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{i=!0,s.abort()}};let i=!1,o=!1;t={method:"POST",headers:{},withCredentials:!1,...t},n=encodeURI(n),si(t.method)&&e&&(n=`${n}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const s=new XMLHttpRequest,a=si(t.method)?s:s.upload;return a.onprogress=l=>{i||r.onprogress(l.lengthComputable,l.loaded,l.total)},s.onreadystatechange=()=>{s.readyState<2||s.readyState===4&&s.status===0||o||(o=!0,r.onheaders(s))},s.onload=()=>{s.status>=200&&s.status<300?r.onload(s):r.onerror(s)},s.onerror=()=>r.onerror(s),s.onabort=()=>{i=!0,r.onabort()},s.ontimeout=()=>r.ontimeout(s),s.open(t.method,n,!0),gt(t.timeout)&&(s.timeout=t.timeout),Object.keys(t.headers).forEach(l=>{const d=unescape(encodeURIComponent(t.headers[l]));s.setRequestHeader(l,d)}),t.responseType&&(s.responseType=t.responseType),t.withCredentials&&(s.withCredentials=!0),s.send(e),r},se=(e,n,t,r)=>({type:e,code:n,body:t,headers:r}),et=e=>n=>{e(se("error",0,"Timeout",n.getAllResponseHeaders()))},oi=e=>/\?/.test(e),yt=(...e)=>{let n="";return e.forEach(t=>{n+=oi(n)&&oi(t)?t.replace(/\?/,"&"):t}),n},Cn=(e="",n)=>{if(typeof n=="function")return n;if(!n||!Te(n.url))return null;const t=n.onload||(i=>i),r=n.onerror||(i=>null);return(i,o,s,a,l,d)=>{const u=Ze(i,yt(e,n.url),{...n,responseType:"blob"});return u.onload=p=>{const h=p.getAllResponseHeaders(),I=gr(h).name||wt(i);o(se("load",p.status,n.method==="HEAD"?null:dt(t(p.response),I),h))},u.onerror=p=>{s(se("error",p.status,r(p.response)||p.statusText,p.getAllResponseHeaders()))},u.onheaders=p=>{d(se("headers",p.status,null,p.getAllResponseHeaders()))},u.ontimeout=et(s),u.onprogress=a,u.onabort=l,u}},ve={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},Oc=(e,n,t,r,i,o,s,a,l,d,u)=>{const p=[],{chunkTransferId:h,chunkServer:I,chunkSize:m,chunkRetryDelays:E}=u,D={serverId:h,aborted:!1},y=n.ondata||(w=>w),S=n.onload||((w,K)=>K==="HEAD"?w.getResponseHeader("Upload-Offset"):w.response),A=n.onerror||(w=>null),L=w=>{const K=new FormData;de(i)&&K.append(t,JSON.stringify(i));const O=typeof n.headers=="function"?n.headers(r,i):{...n.headers,"Upload-Length":r.size},v={...n,headers:O},U=Ze(y(K),yt(e,n.url),v);U.onload=G=>w(S(G,v.method)),U.onerror=G=>s(se("error",G.status,A(G.response)||G.statusText,G.getAllResponseHeaders())),U.ontimeout=et(s)},M=w=>{const K=yt(e,I.url,D.serverId),v={headers:typeof n.headers=="function"?n.headers(D.serverId):{...n.headers},method:"HEAD"},U=Ze(null,K,v);U.onload=G=>w(S(G,v.method)),U.onerror=G=>s(se("error",G.status,A(G.response)||G.statusText,G.getAllResponseHeaders())),U.ontimeout=et(s)},F=Math.floor(r.size/m);for(let w=0;w<=F;w++){const K=w*m,O=r.slice(K,K+m,"application/offset+octet-stream");p[w]={index:w,size:O.size,offset:K,data:O,file:r,progress:0,retries:[...E],status:ve.QUEUED,error:null,request:null,timeout:null}}const j=()=>o(D.serverId),C=w=>w.status===ve.QUEUED||w.status===ve.ERROR,B=w=>{if(D.aborted)return;if(w=w||p.find(C),!w){p.every(Q=>Q.status===ve.COMPLETE)&&j();return}w.status=ve.PROCESSING,w.progress=null;const K=I.ondata||(Q=>Q),O=I.onerror||(Q=>null),v=yt(e,I.url,D.serverId),U=typeof I.headers=="function"?I.headers(w):{...I.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":w.offset,"Upload-Length":r.size,"Upload-Name":r.name},G=w.request=Ze(K(w.data),v,{...I,headers:U});G.onload=()=>{w.status=ve.COMPLETE,w.request=null,V()},G.onprogress=(Q,ee,Et)=>{w.progress=Q?ee:null,k()},G.onerror=Q=>{w.status=ve.ERROR,w.request=null,w.error=O(Q.response)||Q.statusText,W(w)||s(se("error",Q.status,O(Q.response)||Q.statusText,Q.getAllResponseHeaders()))},G.ontimeout=Q=>{w.status=ve.ERROR,w.request=null,W(w)||et(s)(Q)},G.onabort=()=>{w.status=ve.QUEUED,w.request=null,l()}},W=w=>w.retries.length===0?!1:(w.status=ve.WAITING,clearTimeout(w.timeout),w.timeout=setTimeout(()=>{B(w)},w.retries.shift()),!0),k=()=>{const w=p.reduce((O,v)=>O===null||v.progress===null?null:O+v.progress,0);if(w===null)return a(!1,0,0);const K=p.reduce((O,v)=>O+v.size,0);a(!0,w,K)},V=()=>{p.filter(K=>K.status===ve.PROCESSING).length>=1||B()},te=()=>{p.forEach(w=>{clearTimeout(w.timeout),w.request&&w.request.abort()})};return D.serverId?M(w=>{D.aborted||(p.filter(K=>K.offset<w).forEach(K=>{K.status=ve.COMPLETE,K.progress=K.size}),V())}):L(w=>{D.aborted||(d(w),D.serverId=w,V())}),{abort:()=>{D.aborted=!0,te()}}},Sc=(e,n,t,r)=>(i,o,s,a,l,d,u)=>{if(!i)return;const p=r.chunkUploads,h=p&&i.size>r.chunkSize,I=p&&(h||r.chunkForce);if(i instanceof Blob&&I)return Oc(e,n,t,i,o,s,a,l,d,u,r);const m=n.ondata||(M=>M),E=n.onload||(M=>M),D=n.onerror||(M=>null),y=typeof n.headers=="function"?n.headers(i,o)||{}:{...n.headers},S={...n,headers:y};var A=new FormData;de(o)&&A.append(t,JSON.stringify(o)),(i instanceof Blob?[{name:null,file:i}]:i).forEach(M=>{A.append(t,M.file,M.name===null?M.file.name:`${M.name}${M.file.name}`)});const L=Ze(m(A),yt(e,n.url),S);return L.onload=M=>{s(se("load",M.status,E(M.response),M.getAllResponseHeaders()))},L.onerror=M=>{a(se("error",M.status,D(M.response)||M.statusText,M.getAllResponseHeaders()))},L.ontimeout=et(a),L.onprogress=l,L.onabort=d,L},bc=(e="",n,t,r)=>typeof n=="function"?(...i)=>n(t,...i,r):!n||!Te(n.url)?null:Sc(e,n,t,r),It=(e="",n)=>{if(typeof n=="function")return n;if(!n||!Te(n.url))return(i,o)=>o();const t=n.onload||(i=>i),r=n.onerror||(i=>null);return(i,o,s)=>{const a=Ze(i,e+n.url,n);return a.onload=l=>{o(se("load",l.status,t(l.response),l.getAllResponseHeaders()))},a.onerror=l=>{s(se("error",l.status,r(l.response)||l.statusText,l.getAllResponseHeaders()))},a.ontimeout=et(s),a}},Is=(e=0,n=1)=>e+Math.random()*(n-e),wc=(e,n=1e3,t=0,r=25,i=250)=>{let o=null;const s=Date.now(),a=()=>{let l=Date.now()-s,d=Is(r,i);l+d>n&&(d=l+d-n);let u=l/n;if(u>=1||document.hidden){e(1);return}e(u),o=setTimeout(a,d)};return n>0&&a(),{clear:()=>{clearTimeout(o)}}},vc=(e,n)=>{const t={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:r}=n,i=(u,p)=>{const h=()=>{t.duration===0||t.progress===null||d.fire("progress",d.getProgress())},I=()=>{t.complete=!0,d.fire("load-perceived",t.response.body)};d.fire("start"),t.timestamp=Date.now(),t.perceivedPerformanceUpdater=wc(m=>{t.perceivedProgress=m,t.perceivedDuration=Date.now()-t.timestamp,h(),t.response&&t.perceivedProgress===1&&!t.complete&&I()},r?Is(750,1500):0),t.request=e(u,p,m=>{t.response=de(m)?m:{type:"load",code:200,body:`${m}`,headers:{}},t.duration=Date.now()-t.timestamp,t.progress=1,d.fire("load",t.response.body),(!r||r&&t.perceivedProgress===1)&&I()},m=>{t.perceivedPerformanceUpdater.clear(),d.fire("error",de(m)?m:{type:"error",code:0,body:`${m}`})},(m,E,D)=>{t.duration=Date.now()-t.timestamp,t.progress=m?E/D:null,h()},()=>{t.perceivedPerformanceUpdater.clear(),d.fire("abort",t.response?t.response.body:null)},m=>{d.fire("transfer",m)})},o=()=>{t.request&&(t.perceivedPerformanceUpdater.clear(),t.request.abort&&t.request.abort(),t.complete=!0)},s=()=>{o(),t.complete=!1,t.perceivedProgress=0,t.progress=0,t.timestamp=null,t.perceivedDuration=0,t.duration=0,t.request=null,t.response=null},a=r?()=>t.progress?Math.min(t.progress,t.perceivedProgress):null:()=>t.progress||null,l=r?()=>Math.min(t.duration,t.perceivedDuration):()=>t.duration,d={...un(),process:i,abort:o,getProgress:a,getDuration:l,reset:s};return d},Ds=e=>e.substring(0,e.lastIndexOf("."))||e,Cc=e=>{let n=[e.name,e.size,e.type];return e instanceof Blob||qn(e)?n[0]=e.name||hs():qn(e)?(n[1]=e.length,n[2]=_s(e)):Te(e)&&(n[0]=wt(e),n[1]=0,n[2]="application/octet-stream"),{name:n[0],size:n[1],type:n[2]}},tt=e=>!!(e instanceof File||e instanceof Blob&&e.name),Rs=e=>{if(!de(e))return e;const n=an(e)?[]:{};for(const t in e){if(!e.hasOwnProperty(t))continue;const r=e[t];n[t]=r&&de(r)?Rs(r):r}return n},Ac=(e=null,n=null,t=null)=>{const r=dr(),i={archived:!1,frozen:!1,released:!1,source:null,file:t,serverFileReference:n,transferId:null,processingAborted:!1,status:n?Y.PROCESSING_COMPLETE:Y.INIT,activeLoader:null,activeProcessor:null};let o=null;const s={},a=C=>i.status=C,l=(C,...B)=>{i.released||i.frozen||F.fire(C,...B)},d=()=>fn(i.file.name),u=()=>i.file.type,p=()=>i.file.size,h=()=>i.file,I=(C,B,W)=>{if(i.source=C,F.fireSync("init"),i.file){F.fireSync("load-skip");return}i.file=Cc(C),B.on("init",()=>{l("load-init")}),B.on("meta",k=>{i.file.size=k.size,i.file.filename=k.filename,k.source&&(e=ue.LIMBO,i.serverFileReference=k.source,i.status=Y.PROCESSING_COMPLETE),l("load-meta")}),B.on("progress",k=>{a(Y.LOADING),l("load-progress",k)}),B.on("error",k=>{a(Y.LOAD_ERROR),l("load-request-error",k)}),B.on("abort",()=>{a(Y.INIT),l("load-abort")}),B.on("load",k=>{i.activeLoader=null;const V=w=>{i.file=tt(w)?w:i.file,e===ue.LIMBO&&i.serverFileReference?a(Y.PROCESSING_COMPLETE):a(Y.IDLE),l("load")},te=w=>{i.file=k,l("load-meta"),a(Y.LOAD_ERROR),l("load-file-error",w)};if(i.serverFileReference){V(k);return}W(k,V,te)}),B.setSource(C),i.activeLoader=B,B.load()},m=()=>{i.activeLoader&&i.activeLoader.load()},E=()=>{if(i.activeLoader){i.activeLoader.abort();return}a(Y.INIT),l("load-abort")},D=(C,B)=>{if(i.processingAborted){i.processingAborted=!1;return}if(a(Y.PROCESSING),o=null,!(i.file instanceof Blob)){F.on("load",()=>{D(C,B)});return}C.on("load",V=>{i.transferId=null,i.serverFileReference=V}),C.on("transfer",V=>{i.transferId=V}),C.on("load-perceived",V=>{i.activeProcessor=null,i.transferId=null,i.serverFileReference=V,a(Y.PROCESSING_COMPLETE),l("process-complete",V)}),C.on("start",()=>{l("process-start")}),C.on("error",V=>{i.activeProcessor=null,a(Y.PROCESSING_ERROR),l("process-error",V)}),C.on("abort",V=>{i.activeProcessor=null,i.serverFileReference=V,a(Y.IDLE),l("process-abort"),o&&o()}),C.on("progress",V=>{l("process-progress",V)});const W=V=>{i.archived||C.process(V,{...s})},k=console.error;B(i.file,W,k),i.activeProcessor=C},y=()=>{i.processingAborted=!1,a(Y.PROCESSING_QUEUED)},S=()=>new Promise(C=>{if(!i.activeProcessor){i.processingAborted=!0,a(Y.IDLE),l("process-abort"),C();return}o=()=>{C()},i.activeProcessor.abort()}),A=(C,B)=>new Promise((W,k)=>{const V=i.serverFileReference!==null?i.serverFileReference:i.transferId;if(V===null){W();return}C(V,()=>{i.serverFileReference=null,i.transferId=null,W()},te=>{if(!B){W();return}a(Y.PROCESSING_REVERT_ERROR),l("process-revert-error"),k(te)}),a(Y.IDLE),l("process-revert")}),L=(C,B,W)=>{const k=C.split("."),V=k[0],te=k.pop();let w=s;k.forEach(K=>w=w[K]),JSON.stringify(w[te])!==JSON.stringify(B)&&(w[te]=B,l("metadata-update",{key:V,value:s[V],silent:W}))},F={id:{get:()=>r},origin:{get:()=>e,set:C=>e=C},serverId:{get:()=>i.serverFileReference},transferId:{get:()=>i.transferId},status:{get:()=>i.status},filename:{get:()=>i.file.name},filenameWithoutExtension:{get:()=>Ds(i.file.name)},fileExtension:{get:d},fileType:{get:u},fileSize:{get:p},file:{get:h},relativePath:{get:()=>i.file._relativePath},source:{get:()=>i.source},getMetadata:C=>Rs(C?s[C]:s),setMetadata:(C,B,W)=>{if(de(C)){const k=C;return Object.keys(k).forEach(V=>{L(V,k[V],B)}),C}return L(C,B,W),B},extend:(C,B)=>j[C]=B,abortLoad:E,retryLoad:m,requestProcessing:y,abortProcessing:S,load:I,process:D,revert:A,...un(),freeze:()=>i.frozen=!0,release:()=>i.released=!0,released:{get:()=>i.released},archive:()=>i.archived=!0,archived:{get:()=>i.archived},setFile:C=>i.file=C},j=je(F);return j},Mc=(e,n)=>He(n)?0:Te(n)?e.findIndex(t=>t.id===n):-1,ai=(e,n)=>{const t=Mc(e,n);if(!(t<0))return e[t]||null},li=(e,n,t,r,i,o)=>{const s=Ze(null,e,{method:"GET",responseType:"blob"});return s.onload=a=>{const l=a.getAllResponseHeaders(),d=gr(l).name||wt(e);n(se("load",a.status,dt(a.response,d),l))},s.onerror=a=>{t(se("error",a.status,a.statusText,a.getAllResponseHeaders()))},s.onheaders=a=>{o(se("headers",a.status,null,a.getAllResponseHeaders()))},s.ontimeout=et(t),s.onprogress=r,s.onabort=i,s},ci=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),Pc=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&ci(location.href)!==ci(e),Ft=e=>(...n)=>Qe(e)?e(...n):e,Lc=e=>!tt(e.file),An=(e,n)=>{clearTimeout(n.listUpdateTimeout),n.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:Ne(n.items)})},0)},ui=(e,...n)=>new Promise(t=>{if(!e)return t(!0);const r=e(...n);if(r==null)return t(!0);if(typeof r=="boolean")return t(r);typeof r.then=="function"&&r.then(t)}),Mn=(e,n)=>{e.items.sort((t,r)=>n(Ie(t),Ie(r)))},Ce=(e,n)=>({query:t,success:r=()=>{},failure:i=()=>{},...o}={})=>{const s=Je(e.items,t);if(!s){i({error:se("error",0,"Item not found"),file:null});return}n(s,r,i,o||{})},Nc=(e,n,t)=>({ABORT_ALL:()=>{Ne(t.items).forEach(r=>{r.freeze(),r.abortLoad(),r.abortProcessing()})},DID_SET_FILES:({value:r=[]})=>{const i=r.map(s=>({source:s.source?s.source:s,options:s.options}));let o=Ne(t.items);o.forEach(s=>{i.find(a=>a.source===s.source||a.source===s.file)||e("REMOVE_ITEM",{query:s,remove:!1})}),o=Ne(t.items),i.forEach((s,a)=>{o.find(l=>l.source===s.source||l.file===s.source)||e("ADD_ITEM",{...s,interactionMethod:Me.NONE,index:a})})},DID_UPDATE_ITEM_METADATA:({id:r,action:i,change:o})=>{o.silent||(clearTimeout(t.itemUpdateTimeout),t.itemUpdateTimeout=setTimeout(()=>{const s=ai(t.items,r);if(!n("IS_ASYNC")){Le("SHOULD_PREPARE_OUTPUT",!1,{item:s,query:n,action:i,change:o}).then(u=>{const p=n("GET_BEFORE_PREPARE_FILE");p&&(u=p(s,u)),u&&e("REQUEST_PREPARE_OUTPUT",{query:r,item:s,success:h=>{e("DID_PREPARE_OUTPUT",{id:r,file:h})}},!0)});return}s.origin===ue.LOCAL&&e("DID_LOAD_ITEM",{id:s.id,error:null,serverFileReference:s.source});const a=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:r})},32)},l=u=>{s.revert(It(t.options.server.url,t.options.server.revert),n("GET_FORCE_REVERT")).then(u?a:()=>{}).catch(()=>{})},d=u=>{s.abortProcessing().then(u?a:()=>{})};if(s.status===Y.PROCESSING_COMPLETE)return l(t.options.instantUpload);if(s.status===Y.PROCESSING)return d(t.options.instantUpload);t.options.instantUpload&&a()},0))},MOVE_ITEM:({query:r,index:i})=>{const o=Je(t.items,r);if(!o)return;const s=t.items.indexOf(o);i=Es(i,0,t.items.length-1),s!==i&&t.items.splice(i,0,t.items.splice(s,1)[0])},SORT:({compare:r})=>{Mn(t,r),e("DID_SORT_ITEMS",{items:n("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:r,index:i,interactionMethod:o,success:s=()=>{},failure:a=()=>{}})=>{let l=i;if(i===-1||typeof i>"u"){const I=n("GET_ITEM_INSERT_LOCATION"),m=n("GET_TOTAL_ITEMS");l=I==="before"?0:m}const d=n("GET_IGNORED_FILES"),u=I=>tt(I)?!d.includes(I.name.toLowerCase()):!He(I),h=r.filter(u).map(I=>new Promise((m,E)=>{e("ADD_ITEM",{interactionMethod:o,source:I.source||I,success:m,failure:E,index:l++,options:I.options||{}})}));Promise.all(h).then(s).catch(a)},ADD_ITEM:({source:r,index:i=-1,interactionMethod:o,success:s=()=>{},failure:a=()=>{},options:l={}})=>{if(He(r)){a({error:se("error",0,"No source"),file:null});return}if(tt(r)&&t.options.ignoredFiles.includes(r.name.toLowerCase()))return;if(!uc(t)){if(t.options.allowMultiple||!t.options.allowMultiple&&!t.options.allowReplace){const S=se("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:r,error:S}),a({error:S,file:null});return}const y=Ne(t.items)[0];if(y.status===Y.PROCESSING_COMPLETE||y.status===Y.PROCESSING_REVERT_ERROR){const S=n("GET_FORCE_REVERT");if(y.revert(It(t.options.server.url,t.options.server.revert),S).then(()=>{S&&e("ADD_ITEM",{source:r,index:i,interactionMethod:o,success:s,failure:a,options:l})}).catch(()=>{}),S)return}e("REMOVE_ITEM",{query:y.id})}const d=l.type==="local"?ue.LOCAL:l.type==="limbo"?ue.LIMBO:ue.INPUT,u=Ac(d,d===ue.INPUT?null:r,l.file);Object.keys(l.metadata||{}).forEach(y=>{u.setMetadata(y,l.metadata[y])}),it("DID_CREATE_ITEM",u,{query:n,dispatch:e});const p=n("GET_ITEM_INSERT_LOCATION");t.options.itemInsertLocationFreedom||(i=p==="before"?-1:t.items.length),dc(t.items,u,i),Qe(p)&&r&&Mn(t,p);const h=u.id;u.on("init",()=>{e("DID_INIT_ITEM",{id:h})}),u.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:h})}),u.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:h})}),u.on("load-progress",y=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:h,progress:y})}),u.on("load-request-error",y=>{const S=Ft(t.options.labelFileLoadError)(y);if(y.code>=400&&y.code<500){e("DID_THROW_ITEM_INVALID",{id:h,error:y,status:{main:S,sub:`${y.code} (${y.body})`}}),a({error:y,file:Ie(u)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:h,error:y,status:{main:S,sub:t.options.labelTapToRetry}})}),u.on("load-file-error",y=>{e("DID_THROW_ITEM_INVALID",{id:h,error:y.status,status:y.status}),a({error:y.status,file:Ie(u)})}),u.on("load-abort",()=>{e("REMOVE_ITEM",{query:h})}),u.on("load-skip",()=>{u.on("metadata-update",y=>{tt(u.file)&&e("DID_UPDATE_ITEM_METADATA",{id:h,change:y})}),e("COMPLETE_LOAD_ITEM",{query:h,item:u,data:{source:r,success:s}})}),u.on("load",()=>{const y=S=>{if(!S){e("REMOVE_ITEM",{query:h});return}u.on("metadata-update",A=>{e("DID_UPDATE_ITEM_METADATA",{id:h,change:A})}),Le("SHOULD_PREPARE_OUTPUT",!1,{item:u,query:n}).then(A=>{const L=n("GET_BEFORE_PREPARE_FILE");L&&(A=L(u,A));const M=()=>{e("COMPLETE_LOAD_ITEM",{query:h,item:u,data:{source:r,success:s}}),An(e,t)};if(A){e("REQUEST_PREPARE_OUTPUT",{query:h,item:u,success:F=>{e("DID_PREPARE_OUTPUT",{id:h,file:F}),M()}},!0);return}M()})};Le("DID_LOAD_ITEM",u,{query:n,dispatch:e}).then(()=>{ui(n("GET_BEFORE_ADD_FILE"),Ie(u)).then(y)}).catch(S=>{if(!S||!S.error||!S.status)return y(!1);e("DID_THROW_ITEM_INVALID",{id:h,error:S.error,status:S.status})})}),u.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:h})}),u.on("process-progress",y=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:h,progress:y})}),u.on("process-error",y=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:h,error:y,status:{main:Ft(t.options.labelFileProcessingError)(y),sub:t.options.labelTapToRetry}})}),u.on("process-revert-error",y=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:h,error:y,status:{main:Ft(t.options.labelFileProcessingRevertError)(y),sub:t.options.labelTapToRetry}})}),u.on("process-complete",y=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:h,error:null,serverFileReference:y}),e("DID_DEFINE_VALUE",{id:h,value:y})}),u.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:h})}),u.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:h}),e("DID_DEFINE_VALUE",{id:h,value:null})}),e("DID_ADD_ITEM",{id:h,index:i,interactionMethod:o}),An(e,t);const{url:I,load:m,restore:E,fetch:D}=t.options.server||{};u.load(r,yc(d===ue.INPUT?Te(r)&&Pc(r)&&D?Cn(I,D):li:d===ue.LIMBO?Cn(I,E):Cn(I,m)),(y,S,A)=>{Le("LOAD_FILE",y,{query:n}).then(S).catch(A)})},REQUEST_PREPARE_OUTPUT:({item:r,success:i,failure:o=()=>{}})=>{const s={error:se("error",0,"Item not found"),file:null};if(r.archived)return o(s);Le("PREPARE_OUTPUT",r.file,{query:n,item:r}).then(a=>{Le("COMPLETE_PREPARE_OUTPUT",a,{query:n,item:r}).then(l=>{if(r.archived)return o(s);i(l)})})},COMPLETE_LOAD_ITEM:({item:r,data:i})=>{const{success:o,source:s}=i,a=n("GET_ITEM_INSERT_LOCATION");if(Qe(a)&&s&&Mn(t,a),e("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===ue.INPUT?null:s}),o(Ie(r)),r.origin===ue.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:r.id});return}if(r.origin===ue.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:s}),e("DID_DEFINE_VALUE",{id:r.id,value:r.serverId||s});return}n("IS_ASYNC")&&t.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:r.id})},RETRY_ITEM_LOAD:Ce(t,r=>{r.retryLoad()}),REQUEST_ITEM_PREPARE:Ce(t,(r,i,o)=>{e("REQUEST_PREPARE_OUTPUT",{query:r.id,item:r,success:s=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:s}),i({file:r,output:s})},failure:o},!0)}),REQUEST_ITEM_PROCESSING:Ce(t,(r,i,o)=>{if(!(r.status===Y.IDLE||r.status===Y.PROCESSING_ERROR)){const a=()=>e("REQUEST_ITEM_PROCESSING",{query:r,success:i,failure:o}),l=()=>document.hidden?a():setTimeout(a,32);r.status===Y.PROCESSING_COMPLETE||r.status===Y.PROCESSING_REVERT_ERROR?r.revert(It(t.options.server.url,t.options.server.revert),n("GET_FORCE_REVERT")).then(l).catch(()=>{}):r.status===Y.PROCESSING&&r.abortProcessing().then(l);return}r.status!==Y.PROCESSING_QUEUED&&(r.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:r.id}),e("PROCESS_ITEM",{query:r,success:i,failure:o},!0))}),PROCESS_ITEM:Ce(t,(r,i,o)=>{const s=n("GET_MAX_PARALLEL_UPLOADS");if(n("GET_ITEMS_BY_STATUS",Y.PROCESSING).length===s){t.processingQueue.push({id:r.id,success:i,failure:o});return}if(r.status===Y.PROCESSING)return;const l=()=>{const u=t.processingQueue.shift();if(!u)return;const{id:p,success:h,failure:I}=u,m=Je(t.items,p);if(!m||m.archived){l();return}e("PROCESS_ITEM",{query:p,success:h,failure:I},!0)};r.onOnce("process-complete",()=>{i(Ie(r)),l();const u=t.options.server;if(t.options.instantUpload&&r.origin===ue.LOCAL&&Qe(u.remove)){const I=()=>{};r.origin=ue.LIMBO,t.options.server.remove(r.source,I,I)}n("GET_ITEMS_BY_STATUS",Y.PROCESSING_COMPLETE).length===t.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),r.onOnce("process-error",u=>{o({error:u,file:Ie(r)}),l()});const d=t.options;r.process(vc(bc(d.server.url,d.server.process,d.name,{chunkTransferId:r.transferId,chunkServer:d.server.patch,chunkUploads:d.chunkUploads,chunkForce:d.chunkForce,chunkSize:d.chunkSize,chunkRetryDelays:d.chunkRetryDelays}),{allowMinimumUploadDuration:n("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(u,p,h)=>{Le("PREPARE_OUTPUT",u,{query:n,item:r}).then(I=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:I}),p(I)}).catch(h)})}),RETRY_ITEM_PROCESSING:Ce(t,r=>{e("REQUEST_ITEM_PROCESSING",{query:r})}),REQUEST_REMOVE_ITEM:Ce(t,r=>{ui(n("GET_BEFORE_REMOVE_FILE"),Ie(r)).then(i=>{i&&e("REMOVE_ITEM",{query:r})})}),RELEASE_ITEM:Ce(t,r=>{r.release()}),REMOVE_ITEM:Ce(t,(r,i,o,s)=>{const a=()=>{const d=r.id;ai(t.items,d).archive(),e("DID_REMOVE_ITEM",{error:null,id:d,item:r}),An(e,t),i(Ie(r))},l=t.options.server;r.origin===ue.LOCAL&&l&&Qe(l.remove)&&s.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:r.id}),l.remove(r.source,()=>a(),d=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:se("error",0,d,null),status:{main:Ft(t.options.labelFileRemoveError)(d),sub:t.options.labelTapToRetry}})})):((s.revert&&r.origin!==ue.LOCAL&&r.serverId!==null||t.options.chunkUploads&&r.file.size>t.options.chunkSize||t.options.chunkUploads&&t.options.chunkForce)&&r.revert(It(t.options.server.url,t.options.server.revert),n("GET_FORCE_REVERT")),a())}),ABORT_ITEM_LOAD:Ce(t,r=>{r.abortLoad()}),ABORT_ITEM_PROCESSING:Ce(t,r=>{if(r.serverId){e("REVERT_ITEM_PROCESSING",{id:r.id});return}r.abortProcessing().then(()=>{t.options.instantUpload&&e("REMOVE_ITEM",{query:r.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Ce(t,r=>{if(!t.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:r});return}const i=a=>{a&&e("REVERT_ITEM_PROCESSING",{query:r})},o=n("GET_BEFORE_REMOVE_FILE");if(!o)return i(!0);const s=o(Ie(r));if(s==null)return i(!0);if(typeof s=="boolean")return i(s);typeof s.then=="function"&&s.then(i)}),REVERT_ITEM_PROCESSING:Ce(t,r=>{r.revert(It(t.options.server.url,t.options.server.revert),n("GET_FORCE_REVERT")).then(()=>{(t.options.instantUpload||Lc(r))&&e("REMOVE_ITEM",{query:r.id})}).catch(()=>{})}),SET_OPTIONS:({options:r})=>{const i=Object.keys(r),o=Fc.filter(a=>i.includes(a));[...o,...Object.keys(r).filter(a=>!o.includes(a))].forEach(a=>{e(`SET_${cn(a,"_").toUpperCase()}`,{value:r[a]})})}}),Fc=["server"],Er=e=>e,Ve=e=>document.createElement(e),oe=(e,n)=>{let t=e.childNodes[0];t?n!==t.nodeValue&&(t.nodeValue=n):(t=document.createTextNode(n),e.appendChild(t))},fi=(e,n,t,r)=>{const i=(r%360-90)*Math.PI/180;return{x:e+t*Math.cos(i),y:n+t*Math.sin(i)}},xc=(e,n,t,r,i,o)=>{const s=fi(e,n,t,i),a=fi(e,n,t,r);return["M",s.x,s.y,"A",t,t,0,o,0,a.x,a.y].join(" ")},Gc=(e,n,t,r,i)=>{let o=1;return i>r&&i-r<=.5&&(o=0),r>i&&r-i>=.5&&(o=0),xc(e,n,t,Math.min(.9999,r)*360,Math.min(.9999,i)*360,o)},Bc=({root:e,props:n})=>{n.spin=!1,n.progress=0,n.opacity=0;const t=Kt("svg");e.ref.path=Kt("path",{"stroke-width":2,"stroke-linecap":"round"}),t.appendChild(e.ref.path),e.ref.svg=t,e.appendChild(t)},Uc=({root:e,props:n})=>{if(n.opacity===0)return;n.align&&(e.element.dataset.align=n.align);const t=parseInt(ae(e.ref.path,"stroke-width"),10),r=e.rect.element.width*.5;let i=0,o=0;n.spin?(i=0,o=.5):(i=0,o=n.progress);const s=Gc(r,r,r-t,i,o);ae(e.ref.path,"d",s),ae(e.ref.path,"stroke-opacity",n.spin||n.progress>0?1:0)},di=ce({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:Bc,write:Uc,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),kc=({root:e,props:n})=>{e.element.innerHTML=(n.icon||"")+`<span>${n.label}</span>`,n.isDisabled=!1},Hc=({root:e,props:n})=>{const{isDisabled:t}=n,r=e.query("GET_DISABLED")||n.opacity===0;r&&!t?(n.isDisabled=!0,ae(e.element,"disabled","disabled")):!r&&t&&(n.isDisabled=!1,e.element.removeAttribute("disabled"))},ys=ce({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:kc,write:Hc}),Os=(e,n=".",t=1e3,r={})=>{const{labelBytes:i="bytes",labelKilobytes:o="KB",labelMegabytes:s="MB",labelGigabytes:a="GB"}=r;e=Math.round(Math.abs(e));const l=t,d=t*t,u=t*t*t;return e<l?`${e} ${i}`:e<d?`${Math.floor(e/l)} ${o}`:e<u?`${pi(e/d,1,n)} ${s}`:`${pi(e/u,2,n)} ${a}`},pi=(e,n,t)=>e.toFixed(n).split(".").filter(r=>r!=="0").join(t),Vc=({root:e,props:n})=>{const t=Ve("span");t.className="filepond--file-info-main",ae(t,"aria-hidden","true"),e.appendChild(t),e.ref.fileName=t;const r=Ve("span");r.className="filepond--file-info-sub",e.appendChild(r),e.ref.fileSize=r,oe(r,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),oe(t,Er(e.query("GET_ITEM_NAME",n.id)))},jn=({root:e,props:n})=>{oe(e.ref.fileSize,Os(e.query("GET_ITEM_SIZE",n.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),oe(e.ref.fileName,Er(e.query("GET_ITEM_NAME",n.id)))},mi=({root:e,props:n})=>{if(gt(e.query("GET_ITEM_SIZE",n.id))){jn({root:e,props:n});return}oe(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Yc=ce({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:_e({DID_LOAD_ITEM:jn,DID_UPDATE_ITEM_META:jn,DID_THROW_ITEM_LOAD_ERROR:mi,DID_THROW_ITEM_INVALID:mi}),didCreateView:e=>{it("CREATE_VIEW",{...e,view:e})},create:Vc,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Ss=e=>Math.round(e*100),qc=({root:e})=>{const n=Ve("span");n.className="filepond--file-status-main",e.appendChild(n),e.ref.main=n;const t=Ve("span");t.className="filepond--file-status-sub",e.appendChild(t),e.ref.sub=t,bs({root:e,action:{progress:null}})},bs=({root:e,action:n})=>{const t=n.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${Ss(n.progress)}%`;oe(e.ref.main,t),oe(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},jc=({root:e,action:n})=>{const t=n.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${Ss(n.progress)}%`;oe(e.ref.main,t),oe(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},$c=({root:e})=>{oe(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),oe(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},Wc=({root:e})=>{oe(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),oe(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},zc=({root:e})=>{oe(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),oe(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},gi=({root:e})=>{oe(e.ref.main,""),oe(e.ref.sub,"")},Dt=({root:e,action:n})=>{oe(e.ref.main,n.status.main),oe(e.ref.sub,n.status.sub)},Xc=ce({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:_e({DID_LOAD_ITEM:gi,DID_REVERT_ITEM_PROCESSING:gi,DID_REQUEST_ITEM_PROCESSING:$c,DID_ABORT_ITEM_PROCESSING:Wc,DID_COMPLETE_ITEM_PROCESSING:zc,DID_UPDATE_ITEM_PROCESS_PROGRESS:jc,DID_UPDATE_ITEM_LOAD_PROGRESS:bs,DID_THROW_ITEM_LOAD_ERROR:Dt,DID_THROW_ITEM_INVALID:Dt,DID_THROW_ITEM_PROCESSING_ERROR:Dt,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Dt,DID_THROW_ITEM_REMOVE_ERROR:Dt}),didCreateView:e=>{it("CREATE_VIEW",{...e,view:e})},create:qc,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),$n={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Wn=[];re($n,e=>{Wn.push(e)});const be=e=>{if(zn(e)==="right")return 0;const n=e.ref.buttonRemoveItem.rect.element;return n.hidden?null:n.width+n.left},Kc=e=>e.ref.buttonAbortItemLoad.rect.element.width,xt=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),Qc=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),Jc=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),Zc=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),zn=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),eu={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:Jc},processProgressIndicator:{opacity:0,align:Zc},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Ei={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:be},status:{translateX:be}},Pn={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},lt={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:be},status:{translateX:be,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:be},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:zn},info:{translateX:be},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:zn},buttonRemoveItem:{opacity:1},info:{translateX:be},status:{opacity:1,translateX:be}},DID_LOAD_ITEM:Ei,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:be},status:{translateX:be}},DID_START_ITEM_PROCESSING:Pn,DID_REQUEST_ITEM_PROCESSING:Pn,DID_UPDATE_ITEM_PROCESS_PROGRESS:Pn,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:be}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:be},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Ei},tu=ce({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),nu=({root:e,props:n})=>{const t=Object.keys($n).reduce((m,E)=>(m[E]={...$n[E]},m),{}),{id:r}=n,i=e.query("GET_ALLOW_REVERT"),o=e.query("GET_ALLOW_REMOVE"),s=e.query("GET_ALLOW_PROCESS"),a=e.query("GET_INSTANT_UPLOAD"),l=e.query("IS_ASYNC"),d=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let u;l?s&&!i?u=m=>!/RevertItemProcessing/.test(m):!s&&i?u=m=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(m):!s&&!i&&(u=m=>!/Process/.test(m)):u=m=>!/Process/.test(m);const p=u?Wn.filter(u):Wn.concat();if(a&&i&&(t.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",t.RevertItemProcessing.icon="GET_ICON_REMOVE"),l&&!i){const m=lt.DID_COMPLETE_ITEM_PROCESSING;m.info.translateX=Qc,m.info.translateY=xt,m.status.translateY=xt,m.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(l&&!s&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(m=>{lt[m].status.translateY=xt}),lt.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=Kc),d&&i){t.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const m=lt.DID_COMPLETE_ITEM_PROCESSING;m.info.translateX=be,m.status.translateY=xt,m.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}o||(t.RemoveItem.disabled=!0),re(t,(m,E)=>{const D=e.createChildView(ys,{label:e.query(E.label),icon:e.query(E.icon),opacity:0});p.includes(m)&&e.appendChildView(D),E.disabled&&(D.element.setAttribute("disabled","disabled"),D.element.setAttribute("hidden","hidden")),D.element.dataset.align=e.query(`GET_STYLE_${E.align}`),D.element.classList.add(E.className),D.on("click",y=>{y.stopPropagation(),!E.disabled&&e.dispatch(E.action,{query:r})}),e.ref[`button${m}`]=D}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(tu)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(Yc,{id:r})),e.ref.status=e.appendChildView(e.createChildView(Xc,{id:r}));const h=e.appendChildView(e.createChildView(di,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));h.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=h;const I=e.appendChildView(e.createChildView(di,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));I.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=I,e.ref.activeStyles=[]},ru=({root:e,actions:n,props:t})=>{iu({root:e,actions:n,props:t});let r=n.concat().filter(i=>/^DID_/.test(i.type)).reverse().find(i=>lt[i.type]);if(r){e.ref.activeStyles=[];const i=lt[r.type];re(eu,(o,s)=>{const a=e.ref[o];re(s,(l,d)=>{const u=i[o]&&typeof i[o][l]<"u"?i[o][l]:d;e.ref.activeStyles.push({control:a,key:l,value:u})})})}e.ref.activeStyles.forEach(({control:i,key:o,value:s})=>{i[o]=typeof s=="function"?s(e):s})},iu=_e({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:n})=>{e.ref.buttonAbortItemProcessing.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:n})=>{e.ref.buttonAbortItemLoad.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:n})=>{e.ref.buttonAbortItemRemoval.label=n.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:n})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:n})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=n.progress}}),su=ce({create:nu,write:ru,didCreateView:e=>{it("CREATE_VIEW",{...e,view:e})},name:"file"}),ou=({root:e,props:n})=>{e.ref.fileName=Ve("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(su,{id:n.id})),e.ref.data=!1},au=({root:e,props:n})=>{oe(e.ref.fileName,Er(e.query("GET_ITEM_NAME",n.id)))},lu=ce({create:ou,ignoreRect:!0,write:_e({DID_LOAD_ITEM:au}),didCreateView:e=>{it("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),hi={type:"spring",damping:.6,mass:7},cu=({root:e,props:n})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:hi},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:hi},styles:["translateY"]}}].forEach(t=>{uu(e,t,n.name)}),e.element.classList.add(`filepond--${n.name}`),e.ref.scalable=null},uu=(e,n,t)=>{const r=ce({name:`panel-${n.name} filepond--${t}`,mixins:n.mixins,ignoreRectUpdate:!0}),i=e.createChildView(r,n.props);e.ref[n.name]=e.appendChildView(i)},fu=({root:e,props:n})=>{if((e.ref.scalable===null||n.scalable!==e.ref.scalable)&&(e.ref.scalable=as(n.scalable)?n.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!n.height)return;const t=e.ref.top.rect.element,r=e.ref.bottom.rect.element,i=Math.max(t.height+r.height,n.height);e.ref.center.translateY=t.height,e.ref.center.scaleY=(i-t.height-r.height)/100,e.ref.bottom.translateY=i-r.height},ws=ce({name:"panel",read:({root:e,props:n})=>n.heightCurrent=e.ref.bottom.translateY,write:fu,create:cu,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),du=e=>{const n=e.map(r=>r.id);let t;return{setIndex:r=>{t=r},getIndex:()=>t,getItemIndex:r=>n.indexOf(r.id)}},Ti={type:"spring",stiffness:.75,damping:.45,mass:10},_i="spring",Ii={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},pu=({root:e,props:n})=>{if(e.ref.handleClick=r=>e.dispatch("DID_ACTIVATE_ITEM",{id:n.id}),e.element.id=`filepond--item-${n.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(lu,{id:n.id})),e.ref.panel=e.appendChildView(e.createChildView(ws,{name:"item-panel"})),e.ref.panel.height=null,n.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const t=r=>{if(!r.isPrimary)return;let i=!1;const o={x:r.pageX,y:r.pageY};n.dragOrigin={x:e.translateX,y:e.translateY},n.dragCenter={x:r.offsetX,y:r.offsetY};const s=du(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:n.id,dragState:s});const a=p=>{if(!p.isPrimary)return;p.stopPropagation(),p.preventDefault(),n.dragOffset={x:p.pageX-o.x,y:p.pageY-o.y},n.dragOffset.x*n.dragOffset.x+n.dragOffset.y*n.dragOffset.y>16&&!i&&(i=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:n.id,dragState:s})},l=p=>{p.isPrimary&&(n.dragOffset={x:p.pageX-o.x,y:p.pageY-o.y},u())},d=()=>{u()},u=()=>{document.removeEventListener("pointercancel",d),document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",l),e.dispatch("DID_DROP_ITEM",{id:n.id,dragState:s}),i&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0)};document.addEventListener("pointercancel",d),document.addEventListener("pointermove",a),document.addEventListener("pointerup",l)};e.element.addEventListener("pointerdown",t)},mu=_e({DID_UPDATE_PANEL_HEIGHT:({root:e,action:n})=>{e.height=n.height}}),gu=_e({DID_GRAB_ITEM:({root:e,props:n})=>{n.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:n})=>{n.dragOffset=null,n.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:n,props:t,shouldOptimize:r})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let i=n.concat().filter(s=>/^DID_/.test(s.type)).reverse().find(s=>Ii[s.type]);i&&i.type!==t.currentState&&(t.currentState=i.type,e.element.dataset.filepondItemState=Ii[t.currentState]||"");const o=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");o?r||(e.height=e.rect.element.width*o):(mu({root:e,actions:n,props:t}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),r&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),Eu=ce({create:pu,write:gu,destroy:({root:e,props:n})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:_i,scaleY:_i,translateX:Ti,translateY:Ti,opacity:{type:"tween",duration:150}}}});var hr=(e,n)=>Math.max(1,Math.floor((e+1)/n));const Tr=(e,n,t)=>{if(!t)return;const r=e.rect.element.width,i=n.length;let o=null;if(i===0||t.top<n[0].rect.element.top)return-1;const a=n[0].rect.element,l=a.marginLeft+a.marginRight,d=a.width+l,u=hr(r,d);if(u===1){for(let I=0;I<i;I++){const m=n[I],E=m.rect.outer.top+m.rect.element.height*.5;if(t.top<E)return I}return i}const p=a.marginTop+a.marginBottom,h=a.height+p;for(let I=0;I<i;I++){const m=I%u,E=Math.floor(I/u),D=m*d,y=E*h,S=y-a.marginTop,A=D+d,L=y+h+a.marginBottom;if(t.top<L&&t.top>S){if(t.left<A)return I;I!==i-1?o=I:o=null}}return o!==null?o:i},Gt={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)},setDimensions:function(e,n){(this.height===0||e===0)&&(this.height=e),(this.width===0||n===0)&&(this.width=n)}},hu=({root:e})=>{ae(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},Tu=({root:e,action:n})=>{const{id:t,index:r,interactionMethod:i}=n;e.ref.addIndex=r;const o=Date.now();let s=o,a=1;if(i!==Me.NONE){a=0;const l=e.query("GET_ITEM_INSERT_INTERVAL"),d=o-e.ref.lastItemSpanwDate;s=d<l?o+(l-d):o}e.ref.lastItemSpanwDate=s,e.appendChildView(e.createChildView(Eu,{spawnDate:s,id:t,opacity:a,interactionMethod:i}),r)},Di=(e,n,t,r=0,i=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=n,e.translateY=t,Date.now()>e.spawnDate&&(e.opacity===0&&_u(e,n,t,r,i),e.scaleX=1,e.scaleY=1,e.opacity=1))},_u=(e,n,t,r,i)=>{e.interactionMethod===Me.NONE?(e.translateX=null,e.translateX=n,e.translateY=null,e.translateY=t):e.interactionMethod===Me.DROP?(e.translateX=null,e.translateX=n-r*20,e.translateY=null,e.translateY=t-i*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===Me.BROWSE?(e.translateY=null,e.translateY=t-30):e.interactionMethod===Me.API&&(e.translateX=null,e.translateX=n-30,e.translateY=null)},Iu=({root:e,action:n})=>{const{id:t}=n,r=e.childViews.find(i=>i.id===t);r&&(r.scaleX=.9,r.scaleY=.9,r.opacity=0,r.markedForRemoval=!0)},Ln=e=>e.rect.element.height+e.rect.element.marginBottom*.5+e.rect.element.marginTop*.5,Du=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,Ru=({root:e,action:n})=>{const{id:t,dragState:r}=n,i=e.query("GET_ITEM",{id:t}),o=e.childViews.find(D=>D.id===t),s=e.childViews.length,a=r.getItemIndex(i);if(!o)return;const l={x:o.dragOrigin.x+o.dragOffset.x+o.dragCenter.x,y:o.dragOrigin.y+o.dragOffset.y+o.dragCenter.y},d=Ln(o),u=Du(o);let p=Math.floor(e.rect.outer.width/u);p>s&&(p=s);const h=Math.floor(s/p+1);Gt.setHeight=d*h,Gt.setWidth=u*p;var I={y:Math.floor(l.y/d),x:Math.floor(l.x/u),getGridIndex:function(){return l.y>Gt.getHeight||l.y<0||l.x>Gt.getWidth||l.x<0?a:this.y*p+this.x},getColIndex:function(){const y=e.query("GET_ACTIVE_ITEMS"),S=e.childViews.filter(k=>k.rect.element.height),A=y.map(k=>S.find(V=>V.id===k.id)),L=A.findIndex(k=>k===o),M=Ln(o),F=A.length;let j=F,C=0,B=0,W=0;for(let k=0;k<F;k++)if(C=Ln(A[k]),W=B,B=W+C,l.y<B){if(L>k){if(l.y<W+M){j=k;break}continue}j=k;break}return j}};const m=p>1?I.getGridIndex():I.getColIndex();e.dispatch("MOVE_ITEM",{query:o,index:m});const E=r.getIndex();if(E===void 0||E!==m){if(r.setIndex(m),E===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:a,target:m})}},yu=_e({DID_ADD_ITEM:Tu,DID_REMOVE_ITEM:Iu,DID_DRAG_ITEM:Ru}),Ou=({root:e,props:n,actions:t,shouldOptimize:r})=>{yu({root:e,props:n,actions:t});const{dragCoordinates:i}=n,o=e.rect.element.width,s=e.childViews.filter(A=>A.rect.element.height),a=e.query("GET_ACTIVE_ITEMS").map(A=>s.find(L=>L.id===A.id)).filter(A=>A),l=i?Tr(e,a,i):null,d=e.ref.addIndex||null;e.ref.addIndex=null;let u=0,p=0,h=0;if(a.length===0)return;const I=a[0].rect.element,m=I.marginTop+I.marginBottom,E=I.marginLeft+I.marginRight,D=I.width+E,y=I.height+m,S=hr(o,D);if(S===1){let A=0,L=0;a.forEach((M,F)=>{if(l){let B=F-l;B===-2?L=-m*.25:B===-1?L=-m*.75:B===0?L=m*.75:B===1?L=m*.25:L=0}r&&(M.translateX=null,M.translateY=null),M.markedForRemoval||Di(M,0,A+L);let C=(M.rect.element.height+m)*(M.markedForRemoval?M.opacity:1);A+=C})}else{let A=0,L=0;a.forEach((M,F)=>{F===l&&(u=1),F===d&&(h+=1),M.markedForRemoval&&M.opacity<.5&&(p-=1);const j=F+h+u+p,C=j%S,B=Math.floor(j/S),W=C*D,k=B*y,V=Math.sign(W-A),te=Math.sign(k-L);A=W,L=k,!M.markedForRemoval&&(r&&(M.translateX=null,M.translateY=null),Di(M,W,k,V,te))})}},Su=(e,n)=>n.filter(t=>t.data&&t.data.id?e.id===t.data.id:!0),bu=ce({create:hu,write:Ou,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(n=>n.markedForRemoval&&n.opacity===0&&n.resting).forEach(n=>{n._destroy(),e.removeChildView(n)})},filterFrameActionsForChild:Su,mixins:{apis:["dragCoordinates"]}}),wu=({root:e,props:n})=>{e.ref.list=e.appendChildView(e.createChildView(bu)),n.dragCoordinates=null,n.overflowing=!1},vu=({root:e,props:n,action:t})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(n.dragCoordinates={left:t.position.scopeLeft-e.ref.list.rect.element.left,top:t.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Cu=({props:e})=>{e.dragCoordinates=null},Au=_e({DID_DRAG:vu,DID_END_DRAG:Cu}),Mu=({root:e,props:n,actions:t})=>{if(Au({root:e,props:n,actions:t}),e.ref.list.dragCoordinates=n.dragCoordinates,n.overflowing&&!n.overflow&&(n.overflowing=!1,e.element.dataset.state="",e.height=null),n.overflow){const r=Math.round(n.overflow);r!==e.height&&(n.overflowing=!0,e.element.dataset.state="overflow",e.height=r)}},Pu=ce({create:wu,write:Mu,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Fe=(e,n,t,r="")=>{t?ae(e,n,r):e.removeAttribute(n)},Lu=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const n=Ve("form"),t=e.parentNode,r=e.nextSibling;n.appendChild(e),n.reset(),r?t.insertBefore(e,r):t.appendChild(e)}}},Nu=({root:e,props:n})=>{e.element.id=`filepond--browser-${n.id}`,ae(e.element,"name",e.query("GET_NAME")),ae(e.element,"aria-controls",`filepond--assistant-${n.id}`),ae(e.element,"aria-labelledby",`filepond--drop-label-${n.id}`),vs({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),Cs({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),As({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Xn({root:e}),Ms({root:e,action:{value:e.query("GET_REQUIRED")}}),Ps({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=t=>{if(!e.element.value)return;const r=Array.from(e.element.files).map(i=>(i._relativePath=i.webkitRelativePath,i));setTimeout(()=>{n.onload(r),Lu(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},vs=({root:e,action:n})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&Fe(e.element,"accept",!!n.value,n.value?n.value.join(","):"")},Cs=({root:e,action:n})=>{Fe(e.element,"multiple",n.value)},As=({root:e,action:n})=>{Fe(e.element,"webkitdirectory",n.value)},Xn=({root:e})=>{const n=e.query("GET_DISABLED"),t=e.query("GET_ALLOW_BROWSE"),r=n||!t;Fe(e.element,"disabled",r)},Ms=({root:e,action:n})=>{n.value?e.query("GET_TOTAL_ITEMS")===0&&Fe(e.element,"required",!0):Fe(e.element,"required",!1)},Ps=({root:e,action:n})=>{Fe(e.element,"capture",!!n.value,n.value===!0?"":n.value)},Ri=({root:e})=>{const{element:n}=e;e.query("GET_TOTAL_ITEMS")>0?(Fe(n,"required",!1),Fe(n,"name",!1)):(Fe(n,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&n.setCustomValidity(""),e.query("GET_REQUIRED")&&Fe(n,"required",!0))},Fu=({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},xu=ce({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Nu,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:_e({DID_LOAD_ITEM:Ri,DID_REMOVE_ITEM:Ri,DID_THROW_ITEM_INVALID:Fu,DID_SET_DISABLED:Xn,DID_SET_ALLOW_BROWSE:Xn,DID_SET_ALLOW_DIRECTORIES_ONLY:As,DID_SET_ALLOW_MULTIPLE:Cs,DID_SET_ACCEPTED_FILE_TYPES:vs,DID_SET_CAPTURE_METHOD:Ps,DID_SET_REQUIRED:Ms})}),yi={ENTER:13,SPACE:32},Gu=({root:e,props:n})=>{const t=Ve("label");ae(t,"for",`filepond--browser-${n.id}`),ae(t,"id",`filepond--drop-label-${n.id}`),ae(t,"aria-hidden","true"),e.ref.handleKeyDown=r=>{(r.keyCode===yi.ENTER||r.keyCode===yi.SPACE)&&(r.preventDefault(),e.ref.label.click())},e.ref.handleClick=r=>{r.target===t||t.contains(r.target)||e.ref.label.click()},t.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),Ls(t,n.caption),e.appendChild(t),e.ref.label=t},Ls=(e,n)=>{e.innerHTML=n;const t=e.querySelector(".filepond--label-action");return t&&ae(t,"tabindex","0"),n},Bu=ce({name:"drop-label",ignoreRect:!0,create:Gu,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:_e({DID_SET_LABEL_IDLE:({root:e,action:n})=>{Ls(e.ref.label,n.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Uu=ce({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),ku=({root:e})=>{const n=e.rect.element.width*.5,t=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(Uu,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:n,translateY:t}))},Hu=({root:e,action:n})=>{if(!e.ref.blob){ku({root:e});return}e.ref.blob.translateX=n.position.scopeLeft,e.ref.blob.translateY=n.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},Vu=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},Yu=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},qu=({root:e,props:n,actions:t})=>{ju({root:e,props:n,actions:t});const{blob:r}=e.ref;t.length===0&&r&&r.opacity===0&&(e.removeChildView(r),e.ref.blob=null)},ju=_e({DID_DRAG:Hu,DID_DROP:Yu,DID_END_DRAG:Vu}),$u=ce({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:qu}),Ns=(e,n)=>{try{const t=new DataTransfer;n.forEach(r=>{r instanceof File?t.items.add(r):t.items.add(new File([r],r.name,{type:r.type}))}),e.files=t.files}catch{return!1}return!0},Wu=({root:e})=>e.ref.fields={},dn=(e,n)=>e.ref.fields[n],_r=e=>{e.query("GET_ACTIVE_ITEMS").forEach(n=>{e.ref.fields[n.id]&&e.element.appendChild(e.ref.fields[n.id])})},Oi=({root:e})=>_r(e),zu=({root:e,action:n})=>{const i=!(e.query("GET_ITEM",n.id).origin===ue.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),o=Ve("input");o.type=i?"file":"hidden",o.name=e.query("GET_NAME"),o.disabled=e.query("GET_DISABLED"),e.ref.fields[n.id]=o,_r(e)},Xu=({root:e,action:n})=>{const t=dn(e,n.id);if(!t||(n.serverFileReference!==null&&(t.value=n.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const r=e.query("GET_ITEM",n.id);Ns(t,[r.file])},Ku=({root:e,action:n})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const t=dn(e,n.id);t&&Ns(t,[n.file])},0)},Qu=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},Ju=({root:e,action:n})=>{const t=dn(e,n.id);t&&(t.parentNode&&t.parentNode.removeChild(t),delete e.ref.fields[n.id])},Zu=({root:e,action:n})=>{const t=dn(e,n.id);t&&(n.value===null?t.removeAttribute("value"):t.type!="file"&&(t.value=n.value),_r(e))},ef=_e({DID_SET_DISABLED:Qu,DID_ADD_ITEM:zu,DID_LOAD_ITEM:Xu,DID_REMOVE_ITEM:Ju,DID_DEFINE_VALUE:Zu,DID_PREPARE_OUTPUT:Ku,DID_REORDER_ITEMS:Oi,DID_SORT_ITEMS:Oi}),tf=ce({tag:"fieldset",name:"data",create:Wu,write:ef,ignoreRect:!0}),nf=e=>"getRootNode"in e?e.getRootNode():document,rf=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],sf=["css","csv","html","txt"],of={zip:"zip|compressed",epub:"application/epub+zip"},Fs=(e="")=>(e=e.toLowerCase(),rf.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):sf.includes(e)?"text/"+e:of[e]||""),Ir=e=>new Promise((n,t)=>{const r=mf(e);if(r.length&&!af(e))return n(r);lf(e).then(n)}),af=e=>e.files?e.files.length>0:!1,lf=e=>new Promise((n,t)=>{const r=(e.items?Array.from(e.items):[]).filter(i=>cf(i)).map(i=>uf(i));if(!r.length){n(e.files?Array.from(e.files):[]);return}Promise.all(r).then(i=>{const o=[];i.forEach(s=>{o.push.apply(o,s)}),n(o.filter(s=>s).map(s=>(s._relativePath||(s._relativePath=s.webkitRelativePath),s)))}).catch(console.error)}),cf=e=>{if(xs(e)){const n=Dr(e);if(n)return n.isFile||n.isDirectory}return e.kind==="file"},uf=e=>new Promise((n,t)=>{if(pf(e)){ff(Dr(e)).then(n).catch(t);return}n([e.getAsFile()])}),ff=e=>new Promise((n,t)=>{const r=[];let i=0,o=0;const s=()=>{o===0&&i===0&&n(r)},a=l=>{i++;const d=l.createReader(),u=()=>{d.readEntries(p=>{if(p.length===0){i--,s();return}p.forEach(h=>{h.isDirectory?a(h):(o++,h.file(I=>{const m=df(I);h.fullPath&&(m._relativePath=h.fullPath),r.push(m),o--,s()}))}),u()},t)};u()};a(e)}),df=e=>{if(e.type.length)return e;const n=e.lastModifiedDate,t=e.name,r=Fs(fn(e.name));return r.length&&(e=e.slice(0,e.size,r),e.name=t,e.lastModifiedDate=n),e},pf=e=>xs(e)&&(Dr(e)||{}).isDirectory,xs=e=>"webkitGetAsEntry"in e,Dr=e=>e.webkitGetAsEntry(),mf=e=>{let n=[];try{if(n=Ef(e),n.length)return n;n=gf(e)}catch{}return n},gf=e=>{let n=e.getData("url");return typeof n=="string"&&n.length?[n]:[]},Ef=e=>{let n=e.getData("text/html");if(typeof n=="string"&&n.length){const t=n.match(/src\s*=\s*"(.+?)"/);if(t)return[t[1]]}return[]},Jt=[],nt=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),hf=(e,n,t)=>{const r=Tf(n),i={element:e,filterElement:t,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return i.destroy=r.addListener(i),i},Tf=e=>{const n=Jt.find(r=>r.element===e);if(n)return n;const t=_f(e);return Jt.push(t),t},_f=e=>{const n=[],t={dragenter:Df,dragover:Rf,dragleave:Of,drop:yf},r={};re(t,(o,s)=>{r[o]=s(e,n),e.addEventListener(o,r[o],!1)});const i={element:e,addListener:o=>(n.push(o),()=>{n.splice(n.indexOf(o),1),n.length===0&&(Jt.splice(Jt.indexOf(i),1),re(t,s=>{e.removeEventListener(s,r[s],!1)}))})};return i},If=(e,n)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(n.x,n.y)),Rr=(e,n)=>{const t=nf(n),r=If(t,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return r===n||n.contains(r)};let Gs=null;const Bt=(e,n)=>{try{e.dropEffect=n}catch{}},Df=(e,n)=>t=>{t.preventDefault(),Gs=t.target,n.forEach(r=>{const{element:i,onenter:o}=r;Rr(t,i)&&(r.state="enter",o(nt(t)))})},Rf=(e,n)=>t=>{t.preventDefault();const r=t.dataTransfer;Ir(r).then(i=>{let o=!1;n.some(s=>{const{filterElement:a,element:l,onenter:d,onexit:u,ondrag:p,allowdrop:h}=s;Bt(r,"copy");const I=h(i);if(!I){Bt(r,"none");return}if(Rr(t,l)){if(o=!0,s.state===null){s.state="enter",d(nt(t));return}if(s.state="over",a&&!I){Bt(r,"none");return}p(nt(t))}else a&&!o&&Bt(r,"none"),s.state&&(s.state=null,u(nt(t)))})})},yf=(e,n)=>t=>{t.preventDefault();const r=t.dataTransfer;Ir(r).then(i=>{n.forEach(o=>{const{filterElement:s,element:a,ondrop:l,onexit:d,allowdrop:u}=o;if(o.state=null,!(s&&!Rr(t,a))){if(!u(i))return d(nt(t));l(nt(t),i)}})})},Of=(e,n)=>t=>{Gs===t.target&&n.forEach(r=>{const{onexit:i}=r;r.state=null,i(nt(t))})},Sf=(e,n,t)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:r,requiresDropOnElement:i,filterItems:o=u=>u}=t,s=hf(e,r?document.documentElement:e,i);let a="",l="";s.allowdrop=u=>n(o(u)),s.ondrop=(u,p)=>{const h=o(p);if(!n(h)){d.ondragend(u);return}l="drag-drop",d.onload(h,u)},s.ondrag=u=>{d.ondrag(u)},s.onenter=u=>{l="drag-over",d.ondragstart(u)},s.onexit=u=>{l="drag-exit",d.ondragend(u)};const d={updateHopperState:()=>{a!==l&&(e.dataset.hopperState=l,a=l)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{s.destroy()}};return d};let Kn=!1;const ft=[],Bs=e=>{const n=document.activeElement;if(n&&/textarea|input/i.test(n.nodeName)){let t=!1,r=n;for(;r!==document.body;){if(r.classList.contains("filepond--root")){t=!0;break}r=r.parentNode}if(!t)return}Ir(e.clipboardData).then(t=>{t.length&&ft.forEach(r=>r(t))})},bf=e=>{ft.includes(e)||(ft.push(e),!Kn&&(Kn=!0,document.addEventListener("paste",Bs)))},wf=e=>{pr(ft,ft.indexOf(e)),ft.length===0&&(document.removeEventListener("paste",Bs),Kn=!1)},vf=()=>{const e=t=>{n.onload(t)},n={destroy:()=>{wf(e)},onload:()=>{}};return bf(e),n},Cf=({root:e,props:n})=>{e.element.id=`filepond--assistant-${n.id}`,ae(e.element,"role","status"),ae(e.element,"aria-live","polite"),ae(e.element,"aria-relevant","additions")};let Si=null,bi=null;const Nn=[],pn=(e,n)=>{e.element.textContent=n},Af=e=>{e.element.textContent=""},Us=(e,n,t)=>{const r=e.query("GET_TOTAL_ITEMS");pn(e,`${t} ${n}, ${r} ${r===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(bi),bi=setTimeout(()=>{Af(e)},1500)},ks=e=>e.element.parentNode.contains(document.activeElement),Mf=({root:e,action:n})=>{if(!ks(e))return;e.element.textContent="";const t=e.query("GET_ITEM",n.id);Nn.push(t.filename),clearTimeout(Si),Si=setTimeout(()=>{Us(e,Nn.join(", "),e.query("GET_LABEL_FILE_ADDED")),Nn.length=0},750)},Pf=({root:e,action:n})=>{if(!ks(e))return;const t=n.item;Us(e,t.filename,e.query("GET_LABEL_FILE_REMOVED"))},Lf=({root:e,action:n})=>{const r=e.query("GET_ITEM",n.id).filename,i=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");pn(e,`${r} ${i}`)},wi=({root:e,action:n})=>{const r=e.query("GET_ITEM",n.id).filename,i=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");pn(e,`${r} ${i}`)},Ut=({root:e,action:n})=>{const r=e.query("GET_ITEM",n.id).filename;pn(e,`${n.status.main} ${r} ${n.status.sub}`)},Nf=ce({create:Cf,ignoreRect:!0,ignoreRectUpdate:!0,write:_e({DID_LOAD_ITEM:Mf,DID_REMOVE_ITEM:Pf,DID_COMPLETE_ITEM_PROCESSING:Lf,DID_ABORT_ITEM_PROCESSING:wi,DID_REVERT_ITEM_PROCESSING:wi,DID_THROW_ITEM_REMOVE_ERROR:Ut,DID_THROW_ITEM_LOAD_ERROR:Ut,DID_THROW_ITEM_INVALID:Ut,DID_THROW_ITEM_PROCESSING_ERROR:Ut}),tag:"span",name:"assistant"}),Hs=(e,n="-")=>e.replace(new RegExp(`${n}.`,"g"),t=>t.charAt(1).toUpperCase()),Vs=(e,n=16,t=!0)=>{let r=Date.now(),i=null;return(...o)=>{clearTimeout(i);const s=Date.now()-r,a=()=>{r=Date.now(),e(...o)};s<n?t||(i=setTimeout(a,n-s)):a()}},Ff=1e6,Zt=e=>e.preventDefault(),xf=({root:e,props:n})=>{const t=e.query("GET_ID");t&&(e.element.id=t);const r=e.query("GET_CLASS_NAME");r&&r.split(" ").filter(l=>l.length).forEach(l=>{e.element.classList.add(l)}),e.ref.label=e.appendChildView(e.createChildView(Bu,{...n,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(Pu,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(ws,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(Nf,{...n})),e.ref.data=e.appendChildView(e.createChildView(tf,{...n})),e.ref.measure=Ve("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(l=>!He(l.value)).map(({name:l,value:d})=>{e.element.dataset[l]=d}),e.ref.widthPrevious=null,e.ref.widthUpdated=Vs(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const i=window.matchMedia("(pointer: fine) and (hover: hover)").matches,o="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&o&&!i&&(e.element.addEventListener("touchmove",Zt,{passive:!1}),e.element.addEventListener("gesturestart",Zt));const s=e.query("GET_CREDITS");if(s.length===2){const l=document.createElement("a");l.className="filepond--credits",l.setAttribute("aria-hidden","true"),l.href=s[0],l.tabindex=-1,l.target="_blank",l.rel="noopener noreferrer",l.textContent=s[1],e.element.appendChild(l),e.ref.credits=l}},Gf=({root:e,props:n,actions:t})=>{if(Vf({root:e,props:n,actions:t}),t.filter(F=>/^DID_SET_STYLE_/.test(F.type)).filter(F=>!He(F.data.value)).map(({type:F,data:j})=>{const C=Hs(F.substring(8).toLowerCase(),"_");e.element.dataset[C]=j.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let r=e.ref.bounds;r||(r=e.ref.bounds=kf(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:i,label:o,list:s,panel:a}=e.ref;i&&i.updateHopperState();const l=e.query("GET_PANEL_ASPECT_RATIO"),d=e.query("GET_ALLOW_MULTIPLE"),u=e.query("GET_TOTAL_ITEMS"),p=d?e.query("GET_MAX_FILES")||Ff:1,h=u===p,I=t.find(F=>F.type==="DID_ADD_ITEM");if(h&&I){const F=I.data.interactionMethod;o.opacity=0,d?o.translateY=-40:F===Me.API?o.translateX=40:F===Me.BROWSE?o.translateY=40:o.translateY=30}else h||(o.opacity=1,o.translateX=0,o.translateY=0);const m=Bf(e),E=Uf(e),D=o.rect.element.height,y=!d||h?0:D,S=h?s.rect.element.marginTop:0,A=u===0?0:s.rect.element.marginBottom,L=y+S+E.visual+A,M=y+S+E.bounds+A;if(s.translateY=Math.max(0,y-s.rect.element.marginTop)-m.top,l){const F=e.rect.element.width,j=F*l;l!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=l,e.ref.updateHistory=[]);const C=e.ref.updateHistory;C.push(F);const B=2;if(C.length>B*2){const k=C.length,V=k-10;let te=0;for(let w=k;w>=V;w--)if(C[w]===C[w-2]&&te++,te>=B)return}a.scalable=!1,a.height=j;const W=j-y-(A-m.bottom)-(h?S:0);E.visual>W?s.overflow=W:s.overflow=null,e.height=j}else if(r.fixedHeight){a.scalable=!1;const F=r.fixedHeight-y-(A-m.bottom)-(h?S:0);E.visual>F?s.overflow=F:s.overflow=null}else if(r.cappedHeight){const F=L>=r.cappedHeight,j=Math.min(r.cappedHeight,L);a.scalable=!0,a.height=F?j:j-m.top-m.bottom;const C=j-y-(A-m.bottom)-(h?S:0);L>r.cappedHeight&&E.visual>C?s.overflow=C:s.overflow=null,e.height=Math.min(r.cappedHeight,M-m.top-m.bottom)}else{const F=u>0?m.top+m.bottom:0;a.scalable=!0,a.height=Math.max(D,L-F),e.height=Math.max(D,M-F)}e.ref.credits&&a.heightCurrent&&(e.ref.credits.style.transform=`translateY(${a.heightCurrent}px)`)},Bf=e=>{const n=e.ref.list.childViews[0].childViews[0];return n?{top:n.rect.element.marginTop,bottom:n.rect.element.marginBottom}:{top:0,bottom:0}},Uf=e=>{let n=0,t=0;const r=e.ref.list,i=r.childViews[0],o=i.childViews.filter(S=>S.rect.element.height),s=e.query("GET_ACTIVE_ITEMS").map(S=>o.find(A=>A.id===S.id)).filter(S=>S);if(s.length===0)return{visual:n,bounds:t};const a=i.rect.element.width,l=Tr(i,s,r.dragCoordinates),d=s[0].rect.element,u=d.marginTop+d.marginBottom,p=d.marginLeft+d.marginRight,h=d.width+p,I=d.height+u,m=typeof l<"u"&&l>=0?1:0,E=s.find(S=>S.markedForRemoval&&S.opacity<.45)?-1:0,D=s.length+m+E,y=hr(a,h);return y===1?s.forEach(S=>{const A=S.rect.element.height+u;t+=A,n+=A*S.opacity}):(t=Math.ceil(D/y)*I,n=t),{visual:n,bounds:t}},kf=e=>{const n=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:n===0?null:n}},yr=(e,n)=>{const t=e.query("GET_ALLOW_REPLACE"),r=e.query("GET_ALLOW_MULTIPLE"),i=e.query("GET_TOTAL_ITEMS");let o=e.query("GET_MAX_FILES");const s=n.length;return!r&&s>1?(e.dispatch("DID_THROW_MAX_FILES",{source:n,error:se("warning",0,"Max files")}),!0):(o=r?o:1,!r&&t?!1:gt(o)&&i+s>o?(e.dispatch("DID_THROW_MAX_FILES",{source:n,error:se("warning",0,"Max files")}),!0):!1)},Hf=(e,n,t)=>{const r=e.childViews[0];return Tr(r,n,{left:t.scopeLeft-r.rect.element.left,top:t.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},vi=e=>{const n=e.query("GET_ALLOW_DROP"),t=e.query("GET_DISABLED"),r=n&&!t;if(r&&!e.ref.hopper){const i=Sf(e.element,o=>{const s=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?o.every(l=>it("ALLOW_HOPPER_ITEM",l,{query:e.query}).every(d=>d===!0)&&s(l)):!0},{filterItems:o=>{const s=e.query("GET_IGNORED_FILES");return o.filter(a=>tt(a)?!s.includes(a.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});i.onload=(o,s)=>{const l=e.ref.list.childViews[0].childViews.filter(u=>u.rect.element.height),d=e.query("GET_ACTIVE_ITEMS").map(u=>l.find(p=>p.id===u.id)).filter(u=>u);Le("ADD_ITEMS",o,{dispatch:e.dispatch}).then(u=>{if(yr(e,u))return!1;e.dispatch("ADD_ITEMS",{items:u,index:Hf(e.ref.list,d,s),interactionMethod:Me.DROP})}),e.dispatch("DID_DROP",{position:s}),e.dispatch("DID_END_DRAG",{position:s})},i.ondragstart=o=>{e.dispatch("DID_START_DRAG",{position:o})},i.ondrag=Vs(o=>{e.dispatch("DID_DRAG",{position:o})}),i.ondragend=o=>{e.dispatch("DID_END_DRAG",{position:o})},e.ref.hopper=i,e.ref.drip=e.appendChildView(e.createChildView($u))}else!r&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Ci=(e,n)=>{const t=e.query("GET_ALLOW_BROWSE"),r=e.query("GET_DISABLED"),i=t&&!r;i&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(xu,{...n,onload:o=>{Le("ADD_ITEMS",o,{dispatch:e.dispatch}).then(s=>{if(yr(e,s))return!1;e.dispatch("ADD_ITEMS",{items:s,index:-1,interactionMethod:Me.BROWSE})})}}),0):!i&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},Ai=e=>{const n=e.query("GET_ALLOW_PASTE"),t=e.query("GET_DISABLED"),r=n&&!t;r&&!e.ref.paster?(e.ref.paster=vf(),e.ref.paster.onload=i=>{Le("ADD_ITEMS",i,{dispatch:e.dispatch}).then(o=>{if(yr(e,o))return!1;e.dispatch("ADD_ITEMS",{items:o,index:-1,interactionMethod:Me.PASTE})})}):!r&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},Vf=_e({DID_SET_ALLOW_BROWSE:({root:e,props:n})=>{Ci(e,n)},DID_SET_ALLOW_DROP:({root:e})=>{vi(e)},DID_SET_ALLOW_PASTE:({root:e})=>{Ai(e)},DID_SET_DISABLED:({root:e,props:n})=>{vi(e),Ai(e),Ci(e,n),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),Yf=ce({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:xf,write:Gf,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",Zt),e.element.removeEventListener("gesturestart",Zt)},mixins:{styles:["height"]}}),qf=(e={})=>{let n=null;const t=Qt(),r=ol(jl(t),[cc,zl(t)],[Nc,Wl(t)]);r.dispatch("SET_OPTIONS",{options:e});const i=()=>{document.hidden||r.dispatch("KICK")};document.addEventListener("visibilitychange",i);let o=null,s=!1,a=!1,l=null,d=null;const u=()=>{s||(s=!0),clearTimeout(o),o=setTimeout(()=>{s=!1,l=null,d=null,a&&(a=!1,r.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",u);const p=Yf(r,{id:dr()});let h=!1,I=!1;const m={_read:()=>{s&&(d=window.innerWidth,l||(l=d),!a&&d!==l&&(r.dispatch("DID_START_RESIZE"),a=!0)),I&&h&&(h=p.element.offsetParent===null),!h&&(p._read(),I=p.rect.element.hidden)},_write:O=>{const v=r.processActionQueue().filter(U=>!/^SET_/.test(U.type));h&&!v.length||(S(v),h=p._write(O,v,a),Ql(r.query("GET_ITEMS")),h&&r.processDispatchQueue())}},E=O=>v=>{const U={type:O};if(!v)return U;if(v.hasOwnProperty("error")&&(U.error=v.error?{...v.error}:null),v.status&&(U.status={...v.status}),v.file&&(U.output=v.file),v.source)U.file=v.source;else if(v.item||v.id){const G=v.item?v.item:r.query("GET_ITEM",v.id);U.file=G?Ie(G):null}return v.items&&(U.items=v.items.map(Ie)),/progress/.test(O)&&(U.progress=v.progress),v.hasOwnProperty("origin")&&v.hasOwnProperty("target")&&(U.origin=v.origin,U.target=v.target),U},D={DID_DESTROY:E("destroy"),DID_INIT:E("init"),DID_THROW_MAX_FILES:E("warning"),DID_INIT_ITEM:E("initfile"),DID_START_ITEM_LOAD:E("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:E("addfileprogress"),DID_LOAD_ITEM:E("addfile"),DID_THROW_ITEM_INVALID:[E("error"),E("addfile")],DID_THROW_ITEM_LOAD_ERROR:[E("error"),E("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[E("error"),E("removefile")],DID_PREPARE_OUTPUT:E("preparefile"),DID_START_ITEM_PROCESSING:E("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:E("processfileprogress"),DID_ABORT_ITEM_PROCESSING:E("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:E("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:E("processfiles"),DID_REVERT_ITEM_PROCESSING:E("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[E("error"),E("processfile")],DID_REMOVE_ITEM:E("removefile"),DID_UPDATE_ITEMS:E("updatefiles"),DID_ACTIVATE_ITEM:E("activatefile"),DID_REORDER_ITEMS:E("reorderfiles")},y=O=>{const v={pond:K,...O};delete v.type,p.element.dispatchEvent(new CustomEvent(`FilePond:${O.type}`,{detail:v,bubbles:!0,cancelable:!0,composed:!0}));const U=[];O.hasOwnProperty("error")&&U.push(O.error),O.hasOwnProperty("file")&&U.push(O.file);const G=["type","error","file"];Object.keys(O).filter(ee=>!G.includes(ee)).forEach(ee=>U.push(O[ee])),K.fire(O.type,...U);const Q=r.query(`GET_ON${O.type.toUpperCase()}`);Q&&Q(...U)},S=O=>{O.length&&O.filter(v=>D[v.type]).forEach(v=>{const U=D[v.type];(Array.isArray(U)?U:[U]).forEach(G=>{v.type==="DID_INIT_ITEM"?y(G(v.data)):setTimeout(()=>{y(G(v.data))},0)})})},A=O=>r.dispatch("SET_OPTIONS",{options:O}),L=O=>r.query("GET_ACTIVE_ITEM",O),M=O=>new Promise((v,U)=>{r.dispatch("REQUEST_ITEM_PREPARE",{query:O,success:G=>{v(G)},failure:G=>{U(G)}})}),F=(O,v={})=>new Promise((U,G)=>{B([{source:O,options:v}],{index:v.index}).then(Q=>U(Q&&Q[0])).catch(G)}),j=O=>O.file&&O.id,C=(O,v)=>(typeof O=="object"&&!j(O)&&!v&&(v=O,O=void 0),r.dispatch("REMOVE_ITEM",{...v,query:O}),r.query("GET_ACTIVE_ITEM",O)===null),B=(...O)=>new Promise((v,U)=>{const G=[],Q={};if(an(O[0]))G.push.apply(G,O[0]),Object.assign(Q,O[1]||{});else{const ee=O[O.length-1];typeof ee=="object"&&!(ee instanceof Blob)&&Object.assign(Q,O.pop()),G.push(...O)}r.dispatch("ADD_ITEMS",{items:G,index:Q.index,interactionMethod:Me.API,success:v,failure:U})}),W=()=>r.query("GET_ACTIVE_ITEMS"),k=O=>new Promise((v,U)=>{r.dispatch("REQUEST_ITEM_PROCESSING",{query:O,success:G=>{v(G)},failure:G=>{U(G)}})}),V=(...O)=>{const v=Array.isArray(O[0])?O[0]:O,U=v.length?v:W();return Promise.all(U.map(M))},te=(...O)=>{const v=Array.isArray(O[0])?O[0]:O;if(!v.length){const U=W().filter(G=>!(G.status===Y.IDLE&&G.origin===ue.LOCAL)&&G.status!==Y.PROCESSING&&G.status!==Y.PROCESSING_COMPLETE&&G.status!==Y.PROCESSING_REVERT_ERROR);return Promise.all(U.map(k))}return Promise.all(v.map(k))},w=(...O)=>{const v=Array.isArray(O[0])?O[0]:O;let U;typeof v[v.length-1]=="object"?U=v.pop():Array.isArray(O[0])&&(U=O[1]);const G=W();return v.length?v.map(ee=>Ke(ee)?G[ee]?G[ee].id:null:ee).filter(ee=>ee).map(ee=>C(ee,U)):Promise.all(G.map(ee=>C(ee,U)))},K={...un(),...m,...$l(r,t),setOptions:A,addFile:F,addFiles:B,getFile:L,processFile:k,prepareFile:M,removeFile:C,moveFile:(O,v)=>r.dispatch("MOVE_ITEM",{query:O,index:v}),getFiles:W,processFiles:te,removeFiles:w,prepareFiles:V,sort:O=>r.dispatch("SORT",{compare:O}),browse:()=>{var O=p.element.querySelector("input[type=file]");O&&O.click()},destroy:()=>{K.fire("destroy",p.element),r.dispatch("ABORT_ALL"),p._destroy(),window.removeEventListener("resize",u),document.removeEventListener("visibilitychange",i),r.dispatch("DID_DESTROY")},insertBefore:O=>Zr(p.element,O),insertAfter:O=>ei(p.element,O),appendTo:O=>O.appendChild(p.element),replaceElement:O=>{Zr(p.element,O),O.parentNode.removeChild(O),n=O},restoreElement:()=>{n&&(ei(n,p.element),p.element.parentNode.removeChild(p.element),n=null)},isAttachedTo:O=>p.element===O||n===O,element:{get:()=>p.element},status:{get:()=>r.query("GET_STATUS")}};return r.dispatch("DID_INIT"),je(K)},Ys=(e={})=>{const n={};return re(Qt(),(r,i)=>{n[r]=i[0]}),qf({...n,...e})},jf=e=>e.charAt(0).toLowerCase()+e.slice(1),$f=e=>Hs(e.replace(/^data-/,"")),qs=(e,n)=>{re(n,(t,r)=>{re(e,(i,o)=>{const s=new RegExp(t);if(!s.test(i)||(delete e[i],r===!1))return;if(Te(r)){e[r]=o;return}const l=r.group;de(r)&&!e[l]&&(e[l]={}),e[l][jf(i.replace(s,""))]=o}),r.mapping&&qs(e[r.group],r.mapping)})},Wf=(e,n={})=>{const t=[];re(e.attributes,i=>{t.push(e.attributes[i])});const r=t.filter(i=>i.name).reduce((i,o)=>{const s=ae(e,o.name);return i[$f(o.name)]=s===o.name?!0:s,i},{});return qs(r,n),r},zf=(e,n={})=>{const t={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};it("SET_ATTRIBUTE_TO_OPTION_MAP",t);const r={...n},i=Wf(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,t);Object.keys(i).forEach(s=>{de(i[s])?(de(r[s])||(r[s]={}),Object.assign(r[s],i[s])):r[s]=i[s]}),r.files=(n.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(s=>({source:s.value,options:{type:s.dataset.type}})));const o=Ys(r);return e.files&&Array.from(e.files).forEach(s=>{o.addFile(s)}),o.replaceElement(e),o},Xf=(...e)=>sl(e[0])?zf(...e):Ys(...e),Kf=["fire","_read","_write"],Mi=e=>{const n={};return fs(e,n,Kf),n},Qf=(e,n)=>e.replace(/(?:{([a-zA-Z]+)})/g,(t,r)=>n[r]),Jf=e=>{const n=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),t=URL.createObjectURL(n),r=new Worker(t);return{transfer:(i,o)=>{},post:(i,o,s)=>{const a=dr();r.onmessage=l=>{l.data.id===a&&o(l.data.message)},r.postMessage({id:a,message:i},s)},terminate:()=>{r.terminate(),URL.revokeObjectURL(t)}}},Zf=e=>new Promise((n,t)=>{const r=new Image;r.onload=()=>{n(r)},r.onerror=i=>{t(i)},r.src=e}),js=(e,n)=>{const t=e.slice(0,e.size,e.type);return t.lastModifiedDate=e.lastModifiedDate,t.name=n,t},ed=e=>js(e,e.name),Pi=[],td=e=>{if(Pi.includes(e))return;Pi.push(e);const n=e({addFilter:Zl,utils:{Type:R,forin:re,isString:Te,isFile:tt,toNaturalFileSize:Os,replaceInString:Qf,getExtensionFromFilename:fn,getFilenameWithoutExtension:Ds,guesstimateMimeType:Fs,getFileFromBlob:dt,getFilenameFromURL:wt,createRoute:_e,createWorker:Jf,createView:ce,createItemAPI:Ie,loadImage:Zf,copyFile:ed,renameFile:js,createBlob:Ts,applyFilterChain:Le,text:oe,getNumericAspectRatioFromString:ms},views:{fileActionButton:ys}});ec(n.options)},nd=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",rd=()=>"Promise"in window,id=()=>"slice"in Blob.prototype,sd=()=>"URL"in window&&"createObjectURL"in window.URL,od=()=>"visibilityState"in document,ad=()=>"performance"in window,ld=()=>"supports"in(window.CSS||{}),cd=()=>/MSIE|Trident/.test(window.navigator.userAgent),Qn=(()=>{const e=ss()&&!nd()&&od()&&rd()&&id()&&sd()&&ad()&&(ld()||cd());return()=>e})(),qe={apps:[]},ud="filepond",st=()=>{};let $s={},Ws={},zs={},Jn={},qt=st,jt=st,Zn=st,er=st,tr=st,nr=st,rr=st;if(Qn()){Ml(()=>{qe.apps.forEach(t=>t._read())},t=>{qe.apps.forEach(r=>r._write(t))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Qn,create:qt,destroy:jt,parse:Zn,find:er,registerPlugin:tr,setOptions:rr}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const n=()=>re(Qt(),(t,r)=>{Jn[t]=r[1]});$s={...gs},zs={...ue},Ws={...Y},Jn={},n(),qt=(...t)=>{const r=Xf(...t);return r.on("destroy",jt),qe.apps.push(r),Mi(r)},jt=t=>{const r=qe.apps.findIndex(i=>i.isAttachedTo(t));return r>=0?(qe.apps.splice(r,1)[0].restoreElement(),!0):!1},Zn=t=>Array.from(t.querySelectorAll(`.${ud}`)).filter(o=>!qe.apps.find(s=>s.isAttachedTo(o))).map(o=>qt(o)),er=t=>{const r=qe.apps.find(i=>i.isAttachedTo(t));return r?Mi(r):null},tr=(...t)=>{t.forEach(td),n()},nr=()=>{const t={};return re(Qt(),(r,i)=>{t[r]=i[0]}),t},rr=t=>(de(t)&&(qe.apps.forEach(r=>{r.setOptions(t)}),tc(t)),nr())}const fd=Object.freeze(Object.defineProperty({__proto__:null,get FileOrigin(){return zs},get FileStatus(){return Ws},get OptionTypes(){return Jn},get Status(){return $s},get create(){return qt},get destroy(){return jt},get find(){return er},get getOptions(){return nr},get parse(){return Zn},get registerPlugin(){return tr},get setOptions(){return rr},supported:Qn},Symbol.toStringTag,{value:"Module"}));window.FilePond=fd;
